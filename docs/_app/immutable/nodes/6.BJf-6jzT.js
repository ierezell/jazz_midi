import"../chunks/NZTpNUN0.js";import{p as de,ao as T,Q as fe,g as O,k as e,R as l,c as ue,ap as pe,aq as q,f as P,a as W,s as d,d as r,t as k,b as f,r as n,ar as w,as as me,at as _e}from"../chunks/u8fP_b2Q.js";import{d as xe,s as y}from"../chunks/isL9873N.js";import{i as E}from"../chunks/Cj8lQ-n9.js";import{r as ge}from"../chunks/CXakw2E1.js";import{b as je}from"../chunks/CoLbScs5.js";import{M as Y,N as Ne,D as he}from"../chunks/DmnNUe2y.js";import{B as be}from"../chunks/CZxLfcpG.js";const Ce=!0,Ge=Object.freeze(Object.defineProperty({__proto__:null,prerender:Ce},Symbol.toStringTag,{value:"Module"}));function ye(M,i,u){const s=M.target;l(i,s.checked,!0),u()}function Ee(M,i,u,s){l(i,!1),l(u,!1),s()}var Le=P('<div class="answer-display svelte-10jx38j"><span class="arrow svelte-10jx38j">â†’</span> <div class="note-card correct svelte-10jx38j"><span class="note-name svelte-10jx38j"> </span> <span class="notation-type svelte-10jx38j"> </span></div></div>'),Se=P('<button class="next-note-btn svelte-10jx38j">Next Note</button>'),Te=P('<div class="note-controls svelte-10jx38j"><div class="control-group svelte-10jx38j"><label class="svelte-10jx38j"><input type="checkbox" class="svelte-10jx38j"/> English â†’ Latin</label></div> <!></div>'),Me=P('<!> <div class="note-name-exercise svelte-10jx38j"><div class="exercise-info svelte-10jx38j"><h2 class="svelte-10jx38j">Note Name Translation</h2> <p class="instruction svelte-10jx38j"><!></p></div> <div class="note-display svelte-10jx38j"><div class="note-card svelte-10jx38j"><span class="note-name svelte-10jx38j"> </span> <span class="notation-type svelte-10jx38j"> </span></div> <!></div> <!></div>',1);function Ie(M,i){de(i,!0);const u={C:"Do","C#":"Do#",Db:"Reb",D:"Re","D#":"Re#",Eb:"Mib",E:"Mi",F:"Fa","F#":"Fa#",Gb:"Solb",G:"Sol","G#":"Sol#",Ab:"Lab",A:"La","A#":"La#",Bb:"Sib",B:"Si"};let s=T(fe(i.englishToLatin??!0)),g=T(""),j=T("C"),N=T(!1),C=T(!1);function J(){l(N,!1),l(C,!1),L()}O(()=>{e(j)&&L()}),O(()=>{e(C)&&i.onComplete&&i.onComplete()});function L(){if(e(s))l(g,e(j),!0);else{const o=u[e(j)];l(g,o,!0)}l(N,!1)}function H(o){l(j,o,!0);const p=o+he,h=Ne[p];return console.debug(`Note name exercise: ${e(g)} -> ${o}`,`Expected MIDI: ${h}`),[h]}function X(o){const D=H(o).map(c=>Y[c]).map(c=>[c]),m=[];return{selectedNote:e(j),leftHand:m,rightHand:D}}function Z(o,p,h,D){if(h.includes(p.noteNumber)){l(N,!0);const m=e(s)?"English":"Latin",c=e(s)?"Latin":"English",A=e(s)?u[o]:o;return{isCorrect:!0,message:`Perfect! ${e(g)} (${m}) = ${A} (${c}) ðŸŽµâœ¨`,collected:!0,resetCollected:!1}}else{const m=Y[p.noteNumber]?.slice(0,-1),c=e(s)?u[o]:o;return{isCorrect:!1,message:`Wrong! You played ${m}. ${e(g)} = ${c}`,collected:!1,resetCollected:!0}}}function $(o,p){return e(N)}O(()=>{e(g)||L()});{const o=(h,D=pe)=>{var m=Me();const c=q(()=>e(C)),A=q(()=>D().completed);var z=W(m);{var ee=t=>{var a=w();k(()=>y(a,l(C,!0))),f(t,a)},te=t=>{var a=me(),_=W(a);{var x=v=>{var b=w();k(()=>y(b,l(C,!1))),f(v,b)};E(_,v=>{!e(A)&&e(c)&&v(x)},!0)}f(t,a)};E(z,t=>{e(A)&&!e(c)?t(ee):t(te,!1)})}var K=d(z,2),R=r(K),Q=d(r(R),2),ae=r(Q);{var se=t=>{var a=w("Play the Latin (SolfÃ¨ge) equivalent of this English note:");f(t,a)},oe=t=>{var a=w("Play the English equivalent of this Latin (SolfÃ¨ge) note:");f(t,a)};E(ae,t=>{e(s)?t(se):t(oe,!1)})}n(Q),n(R);var F=d(R,2),B=r(F),G=r(B),re=r(G,!0);n(G);var U=d(G,2),ne=r(U,!0);n(U),n(B);var le=d(B,2);{var ie=t=>{var a=Le(),_=d(r(a),2),x=r(_),v=r(x,!0);n(x);var b=d(x,2),I=r(b,!0);n(b),n(_),n(a),k(()=>{y(v,e(s)?u[e(j)]:e(j)),y(I,e(s)?"Latin (SolfÃ¨ge)":"English")}),f(t,a)};E(le,t=>{e(N)&&t(ie)})}n(F);var ce=d(F,2);{var ve=t=>{var a=Te(),_=r(a),x=r(_),v=r(x);ge(v),v.__change=[ye,s,L],_e(),n(x),n(_);var b=d(_,2);{var I=S=>{var V=Se();V.__click=[Ee,N,C,L],f(S,V)};E(b,S=>{e(N)&&S(I)})}n(a),je(v,()=>e(s),S=>l(s,S)),f(t,a)};E(ce,t=>{i.randomMode||t(ve)})}n(K),k(()=>{y(re,e(g)),y(ne,e(s)?"English":"Latin (SolfÃ¨ge)")}),f(h,m)};let p=q(()=>i.rootKey||"C");be(M,{get randomMode(){return i.randomMode},generateExpectedNotes:H,generateScoreProps:X,validateNoteEvent:Z,isCompleted:$,onReset:J,onComplete:()=>{},get initialNote(){return e(p)},children:o,$$slots:{default:!0}})}ue()}xe(["change","click"]);export{Ie as component,Ge as universal};
