import"../chunks/NZTpNUN0.js";import{p as de,N as T,O as fe,g as H,k as e,Q as l,c as ue,P as pe,R as O,f as P,a as Y,s as d,d as n,t as k,b as f,r,S as w,T as me,V as _e}from"../chunks/DPDCOiIW.js";import{d as xe,s as E}from"../chunks/ZRc7GTJ1.js";import{i as L}from"../chunks/CPFqVV7e.js";import{r as ge}from"../chunks/abe3cog1.js";import{b as Ne}from"../chunks/DcVJ9ji5.js";import{M as z,N as je,D as he}from"../chunks/Dh5yjYp3.js";import{B as be}from"../chunks/DkJRdrwJ.js";function Ce(D,i,u){const s=D.target;l(i,s.checked,!0),u()}function Ee(D,i,u,s){l(i,!1),l(u,!1),s()}var Le=P('<div class="answer-display svelte-10jx38j"><span class="arrow svelte-10jx38j">â†’</span> <div class="note-card correct svelte-10jx38j"><span class="note-name svelte-10jx38j"> </span> <span class="notation-type svelte-10jx38j"> </span></div></div>'),ye=P('<button class="next-note-btn svelte-10jx38j">Next Note</button>'),Se=P('<div class="note-controls svelte-10jx38j"><div class="control-group svelte-10jx38j"><label class="svelte-10jx38j"><input type="checkbox" class="svelte-10jx38j"/> English â†’ Latin</label></div> <!></div>'),Te=P('<!> <div class="note-name-exercise svelte-10jx38j"><div class="exercise-info svelte-10jx38j"><h2 class="svelte-10jx38j">Note Name Translation</h2> <p class="instruction svelte-10jx38j"><!></p></div> <div class="note-display svelte-10jx38j"><div class="note-card svelte-10jx38j"><span class="note-name svelte-10jx38j"> </span> <span class="notation-type svelte-10jx38j"> </span></div> <!></div> <!></div>',1);function Be(D,i){de(i,!0);const u={C:"Do","C#":"Do#",Db:"Reb",D:"Re","D#":"Re#",Eb:"Mib",E:"Mi",F:"Fa","F#":"Fa#",Gb:"Solb",G:"Sol","G#":"Sol#",Ab:"Lab",A:"La","A#":"La#",Bb:"Sib",B:"Si"};let s=T(fe(i.englishToLatin??!0)),g=T(""),N=T("C"),j=T(!1),C=T(!1);function J(){l(j,!1),l(C,!1),y()}H(()=>{e(N)&&y()}),H(()=>{e(C)&&i.onComplete&&i.onComplete()});function y(){if(e(s))l(g,e(N),!0);else{const o=u[e(N)];l(g,o,!0)}l(j,!1)}function q(o){l(N,o,!0);const p=o+he,h=je[p];return console.debug(`Note name exercise: ${e(g)} -> ${o}`,`Expected MIDI: ${h}`),[h]}function X(o){const M=q(o).map(c=>z[c]).map(c=>[c]),m=[];return{selectedNote:e(N),leftHand:m,rightHand:M}}function Z(o,p,h,M){if(h.includes(p.noteNumber)){l(j,!0);const m=e(s)?"English":"Latin",c=e(s)?"Latin":"English",A=e(s)?u[o]:o;return{isCorrect:!0,message:`Perfect! ${e(g)} (${m}) = ${A} (${c}) ðŸŽµâœ¨`,collected:!0,resetCollected:!1}}else{const m=z[p.noteNumber]?.slice(0,-1),c=e(s)?u[o]:o;return{isCorrect:!1,message:`Wrong! You played ${m}. ${e(g)} = ${c}`,collected:!1,resetCollected:!0}}}function $(o,p){return e(j)}H(()=>{e(g)||y()});{const o=(h,M=pe)=>{var m=Te();const c=O(()=>e(C)),A=O(()=>M().completed);var V=Y(m);{var ee=t=>{var a=w();k(()=>E(a,l(C,!0))),f(t,a)},te=t=>{var a=me(),_=Y(a);{var x=v=>{var b=w();k(()=>E(b,l(C,!1))),f(v,b)};L(_,v=>{!e(A)&&e(c)&&v(x)},!0)}f(t,a)};L(V,t=>{e(A)&&!e(c)?t(ee):t(te,!1)})}var K=d(V,2),R=n(K),Q=d(n(R),2),ae=n(Q);{var se=t=>{var a=w("Play the Latin (SolfÃ¨ge) equivalent of this English note:");f(t,a)},oe=t=>{var a=w("Play the English equivalent of this Latin (SolfÃ¨ge) note:");f(t,a)};L(ae,t=>{e(s)?t(se):t(oe,!1)})}r(Q),r(R);var F=d(R,2),B=n(F),G=n(B),ne=n(G,!0);r(G);var U=d(G,2),re=n(U,!0);r(U),r(B);var le=d(B,2);{var ie=t=>{var a=Le(),_=d(n(a),2),x=n(_),v=n(x,!0);r(x);var b=d(x,2),I=n(b,!0);r(b),r(_),r(a),k(()=>{E(v,e(s)?u[e(N)]:e(N)),E(I,e(s)?"Latin (SolfÃ¨ge)":"English")}),f(t,a)};L(le,t=>{e(j)&&t(ie)})}r(F);var ce=d(F,2);{var ve=t=>{var a=Se(),_=n(a),x=n(_),v=n(x);ge(v),v.__change=[Ce,s,y],_e(),r(x),r(_);var b=d(_,2);{var I=S=>{var W=ye();W.__click=[Ee,j,C,y],f(S,W)};L(b,S=>{e(j)&&S(I)})}r(a),Ne(v,()=>e(s),S=>l(s,S)),f(t,a)};L(ce,t=>{i.randomMode||t(ve)})}r(K),k(()=>{E(ne,e(g)),E(re,e(s)?"English":"Latin (SolfÃ¨ge)")}),f(h,m)};let p=O(()=>i.rootKey||"C");be(D,{get randomMode(){return i.randomMode},generateExpectedNotes:q,generateScoreProps:X,validateNoteEvent:Z,isCompleted:$,onReset:J,onComplete:()=>{},get initialNote(){return e(p)},children:o,$$slots:{default:!0}})}ue()}xe(["change","click"]);export{Be as component};
