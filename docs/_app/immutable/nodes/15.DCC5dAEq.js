import{u as q,e as la,i as na,t as Ue,s as Ua,f as Xa,a as ia}from"../chunks/DiVgXp1T.js";import{c as C,a as _,f as z,t as Ya}from"../chunks/BHFmxDGj.js";import{o as wa}from"../chunks/BJ7hgZWE.js";import{f as D,p as za,U as N,V as ke,t as L,a as ka,s,c as a,v as t,Y as ze,r as e,Z as E,X as $,e as Za,$ as Ba,be as Ja}from"../chunks/D-WvxLPx.js";import{s as i,d as Oa}from"../chunks/y4LLdheI.js";import{i as K}from"../chunks/DD9bTvrE.js";import{h as Wa}from"../chunks/CxxebNAm.js";import{I as ee,s as ae,e as Q,r as Ga,d as Ka}from"../chunks/C_BxDK4Q.js";import{a as Qa}from"../chunks/DdwD3CYA.js";import"../chunks/CQZelopp.js";import{l as te,s as se,p as Pa}from"../chunks/CcxOe7hN.js";import{a as et}from"../chunks/DgZpB3qr.js";import"../chunks/L29NmxKK.js";import{T as at,Z as tt}from"../chunks/U1LDpVAe.js";import{X as Ma}from"../chunks/ByfdXpXU.js";function st(g,o){const c=te(o,["children","$$slots","$$events","$$legacy"]);const r=[["path",{d:"M12 6v6l4 2"}],["circle",{cx:"12",cy:"12",r:"10"}]];ee(g,se({name:"clock"},()=>c,{get iconNode(){return r},children:(p,b)=>{var l=C(),f=D(l);ae(f,o,"default",{}),_(p,l)},$$slots:{default:!0}}))}function rt(g,o){const c=te(o,["children","$$slots","$$events","$$legacy"]);const r=[["path",{d:"M12 15V3"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}],["path",{d:"m7 10 5 5 5-5"}]];ee(g,se({name:"download"},()=>c,{get iconNode(){return r},children:(p,b)=>{var l=C(),f=D(l);ae(f,o,"default",{}),_(p,l)},$$slots:{default:!0}}))}function vt(g,o){const c=te(o,["children","$$slots","$$events","$$legacy"]);const r=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"}]];ee(g,se({name:"pen"},()=>c,{get iconNode(){return r},children:(p,b)=>{var l=C(),f=D(l);ae(f,o,"default",{}),_(p,l)},$$slots:{default:!0}}))}function it(g,o){const c=te(o,["children","$$slots","$$events","$$legacy"]);const r=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7"}]];ee(g,se({name:"save"},()=>c,{get iconNode(){return r},children:(p,b)=>{var l=C(),f=D(l);ae(f,o,"default",{}),_(p,l)},$$slots:{default:!0}}))}function lt(g,o){const c=te(o,["children","$$slots","$$events","$$legacy"]);const r=[["circle",{cx:"12",cy:"12",r:"10"}],["circle",{cx:"12",cy:"12",r:"6"}],["circle",{cx:"12",cy:"12",r:"2"}]];ee(g,se({name:"target"},()=>c,{get iconNode(){return r},children:(p,b)=>{var l=C(),f=D(l);ae(f,o,"default",{}),_(p,l)},$$slots:{default:!0}}))}function nt(g,o){const c=te(o,["children","$$slots","$$events","$$legacy"]);const r=[["path",{d:"M12 3v12"}],["path",{d:"m17 8-5-5-5 5"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}]];ee(g,se({name:"upload"},()=>c,{get iconNode(){return r},children:(p,b)=>{var l=C(),f=D(l);ae(f,o,"default",{}),_(p,l)},$$slots:{default:!0}}))}const dt=async()=>{const g=q.getProfile(),o=q.getStatistics(),c=q.getAchievements();return{profile:g,statistics:o,achievements:c}},It=Object.freeze(Object.defineProperty({__proto__:null,load:dt},Symbol.toStringTag,{value:"Module"}));var ct=z('<div class="exercise-progress svelte-1n0byqv"><div class="exercise-info svelte-1n0byqv"><span class="exercise-type svelte-1n0byqv"> <!></span> <span class="mastery-badge svelte-1n0byqv"> </span></div> <div class="progress-stats svelte-1n0byqv"><div class="stat-small svelte-1n0byqv"><span class="label svelte-1n0byqv">Success Rate:</span> <span class="value svelte-1n0byqv"> </span></div> <div class="stat-small svelte-1n0byqv"><span class="label svelte-1n0byqv">Best Time:</span> <span class="value svelte-1n0byqv"> </span></div> <div class="stat-small svelte-1n0byqv"><span class="label svelte-1n0byqv">Attempts:</span> <span class="value svelte-1n0byqv"> </span></div></div></div>'),ot=z('<div class="note-progress-card svelte-1n0byqv"><div class="note-header svelte-1n0byqv"><span class="note-name svelte-1n0byqv"> </span></div> <div class="note-exercises svelte-1n0byqv"></div></div>'),mt=z('<div class="detailed-progress svelte-1n0byqv"><h4 class="svelte-1n0byqv">Progress by Note</h4> <div class="progress-grid svelte-1n0byqv"></div></div>'),pt=z('<div class="no-data svelte-1n0byqv"><p>No progress data yet. Start practicing to see your stats!</p></div>'),ut=z('<div class="stats-widget svelte-1n0byqv"><div class="stats-header svelte-1n0byqv"><h3 class="svelte-1n0byqv">Progress Stats</h3> <div class="overall-progress svelte-1n0byqv"><div class="progress-circle svelte-1n0byqv"><span class="progress-text svelte-1n0byqv"> </span></div></div></div> <div class="stats-summary svelte-1n0byqv"><div class="stat-item svelte-1n0byqv"><div class="stat-value svelte-1n0byqv"> </div> <div class="stat-label svelte-1n0byqv">Total Exercises</div></div> <div class="stat-item svelte-1n0byqv"><div class="stat-value svelte-1n0byqv"> </div> <div class="stat-label svelte-1n0byqv">Avg Accuracy</div></div> <div class="stat-item svelte-1n0byqv"><div class="stat-value svelte-1n0byqv"> </div> <div class="stat-label svelte-1n0byqv">Current Streak</div></div></div> <!></div>');function _t(g,o){za(o,!0);let c=Pa(o,"showDetailed",3,!1),r=Pa(o,"exerciseType",3,"all"),p=N(ke(q.getStatistics())),b=N(ke([])),l=ze(()=>r()==="all"?t(b):t(b).filter(v=>v.exerciseType===r())),f=ze(()=>{const v=new Map;return t(l).forEach(h=>{v.has(h.note)||v.set(h.note,[]),v.get(h.note).push(h)}),v}),Ae=ze(()=>{if(t(l).length===0)return 0;const v=t(l).reduce((h,S)=>{const A={beginner:25,intermediate:50,advanced:75,mastered:100}[S.masteryLevel];return h+A},0);return Math.round(v/t(l).length)});function Xe(v){switch(v){case"mastered":return"#4caf50";case"advanced":return"#2196f3";case"intermediate":return"#ff9800";case"beginner":return"#f44336";default:return"#9e9e9e"}}function Ye(v){switch(v){case"mastered":return"ğŸ†";case"advanced":return"â­";case"intermediate":return"ğŸ“ˆ";case"beginner":return"ğŸŒ±";default:return"â“"}}function re(v){if(v===1/0)return"N/A";if(v<60)return`${v.toFixed(1)}s`;const h=Math.floor(v/60),S=Math.floor(v%60);return`${h}:${S.toString().padStart(2,"0")}`}function ve(){$(p,q.getStatistics(),!0),$(b,Array.from(t(p).noteProgress.values()),!0)}wa(()=>(ve(),q.subscribe(ve)));var ie=ut(),le=a(ie),De=s(a(le),2),ne=a(De),de=a(ne),ce=a(de);e(de),e(ne),e(De),e(le);var T=s(le,2),V=a(T),U=a(V),Ze=a(U,!0);e(U),E(2),e(V);var X=s(V,2),oe=a(X),Be=a(oe);e(oe),E(2),e(X);var Te=s(X,2),me=a(Te),pe=a(me,!0);e(me),E(2),e(Te),e(T);var Je=s(T,2);{var ue=v=>{var h=mt(),S=s(a(h),2);la(S,21,()=>et,na,(A,k)=>{const Y=ze(()=>t(f).get(t(k))||[]);var _e=C(),Ne=D(_e);{var We=I=>{var F=ot(),qe=a(F),ge=a(qe),Ee=a(ge,!0);e(ge),e(qe);var Le=s(qe,2);la(Le,21,()=>t(Y),na,(fe,x)=>{var he=ct(),Z=a(he),B=a(Z),Ce=a(B),Ie=s(Ce);{var ye=j=>{var H=Ya();L(()=>i(H,`- ${t(x).chordType??""}`)),_(j,H)};K(Ie,j=>{t(x).chordType&&j(ye)})}e(B);var be=s(B,2),Fe=a(be);e(be),e(Z);var xe=s(Z,2),$e=a(xe),Se=s(a($e),2),J=a(Se);e(Se),e($e);var O=s($e,2),Pe=s(a(O),2),je=a(Pe,!0);e(Pe),e(O);var W=s(O,2),G=s(a(W),2),Me=a(G,!0);e(G),e(W),e(xe),e(he),L((j,H,we,He)=>{i(Ce,`${t(x).exerciseType??""} `),Q(be,`color: ${j??""}`),i(Fe,`${H??""}
												${t(x).masteryLevel??""}`),i(J,`${we??""}%`),i(je,He),i(Me,t(x).attempts)},[()=>Xe(t(x).masteryLevel),()=>Ye(t(x).masteryLevel),()=>Math.round(t(x).successes/t(x).attempts*100),()=>re(t(x).bestTime)]),_(fe,he)}),e(Le),e(F),L(()=>i(Ee,t(k))),_(I,F)};K(Ne,I=>{t(Y).length>0&&I(We)})}_(A,_e)}),e(S),e(h),_(v,h)},Oe=v=>{var h=C(),S=D(h);{var A=k=>{var Y=pt();_(k,Y)};K(S,k=>{t(l).length===0&&k(A)},!0)}_(v,h)};K(Je,v=>{c()&&t(l).length>0?v(ue):v(Oe,!1)})}e(ie),L(v=>{Q(ne,`--progress: ${t(Ae)??""}%`),i(ce,`${t(Ae)??""}%`),i(Ze,t(p).totalExercises),i(Be,`${v??""}%`),i(pe,t(p).currentStreak)},[()=>t(p).averageAccuracy.toFixed(1)]),_(g,ie),ka()}var qt=z('<meta name="description" content="Your jazz practice progress and statistics"/>'),gt=z('<div class="edit-mode svelte-maq4gq"><input type="text" class="name-input svelte-maq4gq" placeholder="Your name"/> <div class="edit-actions"><button class="icon-btn save svelte-maq4gq" title="Save"><!></button> <button class="icon-btn cancel svelte-maq4gq" title="Cancel"><!></button></div></div>'),ft=z('<div class="view-mode svelte-maq4gq"><h1 class="profile-name svelte-maq4gq"> </h1> <button class="icon-btn edit svelte-maq4gq" title="Edit Profile"><!></button></div>'),ht=z('<div><div class="achievement-icon svelte-maq4gq"> </div> <div class="achievement-info svelte-maq4gq"><h4 class="svelte-maq4gq"> </h4> <div class="progress-bar small svelte-maq4gq"><div class="progress-fill svelte-maq4gq"></div></div></div></div>'),yt=z('<div class="modal-overlay svelte-maq4gq" role="button" tabindex="-1"><div class="modal svelte-maq4gq" role="dialog" tabindex="-1"><div class="modal-header svelte-maq4gq"><h3 class="svelte-maq4gq">Export Data</h3> <button class="close-btn svelte-maq4gq"><!></button></div> <div class="modal-content svelte-maq4gq"><textarea readonly="" class="export-textarea svelte-maq4gq"></textarea> <button class="action-btn primary svelte-maq4gq">Copy to Clipboard</button></div></div></div>'),bt=z('<div class="profile-container svelte-maq4gq"><header class="profile-header svelte-maq4gq"><div class="avatar-section svelte-maq4gq"><div class="avatar svelte-maq4gq"> </div> <div class="profile-info svelte-maq4gq"><!> <div class="profile-meta svelte-maq4gq"><span class="level-tag svelte-maq4gq"> </span> <span>â€¢</span> <span> </span> <span>â€¢</span> <span> </span></div></div></div></header> <section class="stats-overview svelte-maq4gq"><div class="stat-card highlight svelte-maq4gq"><div class="stat-icon svelte-maq4gq"><!></div> <div class="stat-content"><div class="stat-value svelte-maq4gq"> </div> <div class="stat-label svelte-maq4gq">Success Rate</div></div></div> <div class="stat-card svelte-maq4gq"><div class="stat-icon svelte-maq4gq"><!></div> <div class="stat-content"><div class="stat-value svelte-maq4gq"> </div> <div class="stat-label svelte-maq4gq">Avg Score</div></div></div> <div class="stat-card svelte-maq4gq"><div class="stat-icon svelte-maq4gq"><!></div> <div class="stat-content"><div class="stat-value svelte-maq4gq"> </div> <div class="stat-label svelte-maq4gq">Practice Time</div></div></div> <div class="stat-card svelte-maq4gq"><div class="stat-icon svelte-maq4gq"><!></div> <div class="stat-content"><div class="stat-value svelte-maq4gq"> </div> <div class="stat-label svelte-maq4gq">Day Streak</div></div></div></section> <div class="content-grid svelte-maq4gq"><section class="main-stats svelte-maq4gq"><h2 class="svelte-maq4gq">Detailed Progress</h2> <!> <div class="exercise-breakdown"><h3 class="svelte-maq4gq">Performance by Category</h3> <div class="exercise-grid svelte-maq4gq"><div class="exercise-card svelte-maq4gq"><div class="exercise-header svelte-maq4gq"><h4 class="svelte-maq4gq">ğŸµ Chords</h4> <span class="mastery-badge svelte-maq4gq"> </span></div> <div class="exercise-stats"><div class="stat-row svelte-maq4gq"><span>Completed</span><span> </span></div> <div class="stat-row svelte-maq4gq"><span>Accuracy</span><span> </span></div></div></div> <div class="exercise-card svelte-maq4gq"><div class="exercise-header svelte-maq4gq"><h4 class="svelte-maq4gq">ğŸ¼ Scales</h4> <span class="mastery-badge svelte-maq4gq"> </span></div> <div class="exercise-stats"><div class="stat-row svelte-maq4gq"><span>Completed</span><span> </span></div> <div class="stat-row svelte-maq4gq"><span>Accuracy</span><span> </span></div></div></div> <div class="exercise-card svelte-maq4gq"><div class="exercise-header svelte-maq4gq"><h4 class="svelte-maq4gq">ğŸ¸ Progressions</h4> <span class="mastery-badge svelte-maq4gq"> </span></div> <div class="exercise-stats"><div class="stat-row svelte-maq4gq"><span>Completed</span><span> </span></div> <div class="stat-row svelte-maq4gq"><span>Accuracy</span><span> </span></div></div></div></div></div></section> <aside class="sidebar svelte-maq4gq"><section class="achievements-section svelte-maq4gq"><h2 class="svelte-maq4gq">ğŸ† Achievements</h2> <div class="achievements-list svelte-maq4gq"></div></section> <section class="data-section svelte-maq4gq"><h2 class="svelte-maq4gq">âš™ï¸ Data</h2> <div class="data-actions svelte-maq4gq"><button class="action-btn export svelte-maq4gq"><!> Export</button> <label for="import-file" class="action-btn import svelte-maq4gq"><!> Import <input id="import-file" type="file" accept=".json" style="display: none;"/></label></div></section></aside></div></div> <!>',1);function Ft(g,o){za(o,!0);let c=N(ke(q.getProfile())),r=N(ke(q.getStatistics())),p=N(ke(q.getAchievements())),b=N(!1),l=N(!1),f=N(""),Ae=ze(()=>t(r).totalExercises>0?Math.round(t(r).completedExercises/t(r).totalExercises*100):0);function Xe(n){const d=Math.floor(n/60),m=Math.round(n%60);return d>0?`${d}h ${m}m`:`${m}m`}function Ye(n){return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(new Date(n))}function re(n){switch(n){case"expert":return"#ffd700";case"advanced":return"#28a745";case"intermediate":return"#ffc107";default:return"#6c757d"}}function ve(){$(b,!t(b))}function ie(){q.updateProfile(t(c)),$(b,!1)}function le(){$(f,q.exportData(),!0),$(l,!0)}function De(n){const m=n.target.files?.[0];if(m){const y=new FileReader;y.onload=u=>{const P=u.target?.result;q.importData(P)?($(c,q.getProfile(),!0),$(r,q.getStatistics(),!0),$(p,q.getAchievements(),!0),alert("Data imported successfully!")):alert("Failed to import data. Please check the file format.")},y.readAsText(m)}}function ne(){navigator.clipboard.writeText(t(f)),alert("Data copied to clipboard!")}wa(()=>{const n=q.subscribe(d=>{$(r,d,!0),$(c,q.getProfile(),!0),$(p,q.getAchievements(),!0)});return()=>{n()}});var de=bt();Wa("maq4gq",n=>{var d=qt();Za(()=>{Ba.title="Profile - Jazz MIDI"}),_(n,d)});var ce=D(de),T=a(ce),V=a(T),U=a(V),Ze=a(U,!0);e(U);var X=s(U,2),oe=a(X);{var Be=n=>{var d=gt(),m=a(d);Ga(m);var y=s(m,2),u=a(y);u.__click=ie;var P=a(u);it(P,{size:20}),e(u);var M=s(u,2);M.__click=ve;var w=a(M);Ma(w,{size:20}),e(M),e(y),e(d),Qa(m,()=>t(c).name,R=>t(c).name=R),_(n,d)},Te=n=>{var d=ft(),m=a(d),y=a(m,!0);e(m);var u=s(m,2);u.__click=ve;var P=a(u);vt(P,{size:18}),e(u),e(d),L(()=>i(y,t(c).name)),_(n,d)};K(oe,n=>{t(b)?n(Be):n(Te,!1)})}var me=s(oe,2),pe=a(me),Je=a(pe);e(pe);var ue=s(pe,4),Oe=a(ue);e(ue);var v=s(ue,4),h=a(v);e(v),e(me),e(X),e(V),e(T);var S=s(T,2),A=a(S),k=a(A),Y=a(k);lt(Y,{size:32}),e(k);var _e=s(k,2),Ne=a(_e),We=a(Ne);e(Ne),E(2),e(_e),e(A);var I=s(A,2),F=a(I),qe=a(F);at(qe,{size:32}),e(F);var ge=s(F,2),Ee=a(ge),Le=a(Ee,!0);e(Ee),E(2),e(ge),e(I);var fe=s(I,2),x=a(fe),he=a(x);st(he,{size:32}),e(x);var Z=s(x,2),B=a(Z),Ce=a(B,!0);e(B),E(2),e(Z),e(fe);var Ie=s(fe,2),ye=a(Ie),be=a(ye);tt(be,{size:32}),e(ye);var Fe=s(ye,2),xe=a(Fe),$e=a(xe,!0);e(xe),E(2),e(Fe),e(Ie),e(S);var Se=s(S,2),J=a(Se),O=s(a(J),2);_t(O,{showDetailed:!0});var Pe=s(O,2),je=s(a(Pe),2),W=a(je),G=a(W),Me=s(a(G),2),j=a(Me,!0);e(Me),e(G);var H=s(G,2),we=a(H),He=s(a(we)),Aa=a(He,!0);e(He),e(we);var da=s(we,2),ca=s(a(da)),Da=a(ca);e(ca),e(da),e(H),e(W);var Ge=s(W,2),Ke=a(Ge),Qe=s(a(Ke),2),Ta=a(Qe,!0);e(Qe),e(Ke);var oa=s(Ke,2),ea=a(oa),ma=s(a(ea)),Na=a(ma,!0);e(ma),e(ea);var pa=s(ea,2),ua=s(a(pa)),Ea=a(ua);e(ua),e(pa),e(oa),e(Ge);var _a=s(Ge,2),aa=a(_a),ta=s(a(aa),2),La=a(ta,!0);e(ta),e(aa);var qa=s(aa,2),sa=a(qa),ga=s(a(sa)),Ca=a(ga,!0);e(ga),e(sa);var fa=s(sa,2),ha=s(a(fa)),Ia=a(ha);e(ha),e(fa),e(qa),e(_a),e(je),e(Pe),e(J);var ra=s(J,2),va=a(ra),ya=s(a(va),2);la(ya,21,()=>t(p),na,(n,d)=>{var m=ht();let y;var u=a(m),P=a(u,!0);e(u);var M=s(u,2),w=a(M),R=a(w,!0);e(w);var Ve=s(w,2),Va=a(Ve);e(Ve),e(M),e(m),L(()=>{y=Ua(m,1,"achievement-item svelte-maq4gq",null,y,{unlocked:t(d).progress>=100}),i(P,t(d).icon),i(R,t(d).name),Q(Va,`width: ${t(d).progress??""}%`)}),_(n,m)}),e(ya),e(va);var ba=s(va,2),xa=s(a(ba),2),Re=a(xa);Re.__click=le;var Fa=a(Re);rt(Fa,{size:16}),E(),e(Re);var $a=s(Re,2),Sa=a($a);nt(Sa,{size:16});var ja=s(Sa,2);ja.__change=De,e($a),e(xa),e(ba),e(ra),e(Se),e(ce);var Ha=s(ce,2);{var Ra=n=>{var d=yt();d.__click=()=>$(l,!1);var m=a(d);m.__click=Ve=>Ve.stopPropagation();var y=a(m),u=s(a(y),2);u.__click=()=>$(l,!1);var P=a(u);Ma(P,{size:20}),e(u),e(y);var M=s(y,2),w=a(M);Ja(w);var R=s(w,2);R.__click=ne,e(M),e(m),e(d),L(()=>Ka(w,t(f))),_(n,d)};K(Ha,n=>{t(l)&&n(Ra)})}L((n,d,m,y,u,P,M,w,R)=>{i(Ze,t(c).avatar||"ğŸ¹"),i(Je,`Level ${t(c).level??""}`),i(Oe,`${t(c).experiencePoints??""} XP`),i(h,`Joined ${n??""}`),i(We,`${t(Ae)??""}%`),i(Le,d),i(Ce,m),i($e,t(r).currentStreak),Q(Me,`background-color: ${y??""}`),i(j,t(r).chordStats.masteryLevel),i(Aa,t(r).chordStats.completed),i(Da,`${u??""}%`),Q(Qe,`background-color: ${P??""}`),i(Ta,t(r).scaleStats.masteryLevel),i(Na,t(r).scaleStats.completed),i(Ea,`${M??""}%`),Q(ta,`background-color: ${w??""}`),i(La,t(r).progressionStats.masteryLevel),i(Ca,t(r).progressionStats.completed),i(Ia,`${R??""}%`)},[()=>Ye(t(c).createdAt),()=>Math.round(t(r).averageScore),()=>Xe(t(r).totalPracticeTime),()=>re(t(r).chordStats.masteryLevel),()=>Math.round(t(r).chordStats.averageAccuracy),()=>re(t(r).scaleStats.masteryLevel),()=>Math.round(t(r).scaleStats.averageAccuracy),()=>re(t(r).progressionStats.masteryLevel),()=>Math.round(t(r).progressionStats.averageAccuracy)]),Ue(1,T,()=>Xa),Ue(1,S,()=>ia,()=>({y:20,duration:500,delay:100})),Ue(1,J,()=>ia,()=>({y:20,duration:500,delay:200})),Ue(1,ra,()=>ia,()=>({x:20,duration:500,delay:300})),_(g,de),ka()}Oa(["click","change"]);export{Ft as component,It as universal};
