import{_ as B}from"../chunks/PPVm8Dsz.js";import{f as j,a as E}from"../chunks/CX1yysGK.js";import{p as Ce,J as $,K as se,d as ye,M as i,L as Ne,j as e,a as Se,P as Pe,s as o,c as r,t as M,N as we,r as s}from"../chunks/Dpgs3mFS.js";import{d as Ie,s as y}from"../chunks/dcQTQ1xv.js";import{e as ne,s as Ee,i as re}from"../chunks/D0omyc6-.js";import{i as ae}from"../chunks/FFlPY-wq.js";import{i as K,s as G}from"../chunks/gBQeIBP2.js";import{B as $e,a as Me,g as je}from"../chunks/CedzibQm.js";import{N as Re}from"../chunks/DgZpB3qr.js";const Oe=(N,f,R)=>{const a=N[f];return a?typeof a=="function"?a():Promise.resolve(a):new Promise((v,p)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(p.bind(null,new Error("Unknown variable dynamic import: "+f+(f.split("/").length!==R?". Note that variables only represent file names one level deep.":""))))})},Te=["autumn-leaves","blue-bossa","all-the-things-you-are"],ke=async()=>{const N=Te.map(a=>Oe(Object.assign({"../../../lib/data/songs/all-the-things-you-are.json":()=>B(()=>import("../chunks/2UkcjGIk.js"),[],import.meta.url),"../../../lib/data/songs/autumn-leaves.json":()=>B(()=>import("../chunks/BdeHQ9Rf.js"),[],import.meta.url),"../../../lib/data/songs/blue-bossa.json":()=>B(()=>import("../chunks/DHqQcmTd.js"),[],import.meta.url)}),`../../../lib/data/songs/${a}.json`,7));return{songs:(await Promise.all(N)).map(a=>a.default)}},Qe=Object.freeze(Object.defineProperty({__proto__:null,load:ke},Symbol.toStringTag,{value:"Module"}));var De=j('<div class="song-info svelte-n1uxvh"> </div>'),He=j('<div class="song-info svelte-n1uxvh"> </div>'),Le=j('<div><div class="chord-name svelte-n1uxvh"> </div></div>'),Ve=j("<option> </option>"),ze=j('<div class="song-controls svelte-n1uxvh"><div class="song-header svelte-n1uxvh"><h2 class="svelte-n1uxvh"> </h2> <!> <!> <div class="chord-progress svelte-n1uxvh"> </div></div> <div class="chord-progression svelte-n1uxvh"></div> <div class="control-group svelte-n1uxvh"><label for="song" class="svelte-n1uxvh">Song:</label> <select id="song" class="svelte-n1uxvh"></select></div> <div class="control-group svelte-n1uxvh"><label for="voicing" class="svelte-n1uxvh">Voicing:</label> <select id="voicing" class="svelte-n1uxvh"><option>Full Right Hand</option><option>Full Left Hand</option><option>Split (1-7-3-5)</option><option>Split (1-5-3-7)</option></select></div> <div class="control-group svelte-n1uxvh"><label for="inversion" class="svelte-n1uxvh">Inversion:</label> <select id="inversion" class="svelte-n1uxvh"><option>Root Position</option><option>1st Inversion</option><option>2nd Inversion</option><option>3rd Inversion</option></select></div></div>');function Xe(N,f){Ce(f,!0);const R="Practice chord progressions from real songs. Play each chord in the progression.",a=f.data.songs;let v=$(se(a[0])),p=$(0),S=$("full-right"),C=$(0),c=$(se(new Set));ye(()=>{i(p,0),i(c,new Set,!0)});function le(){i(c,new Set,!0)}function O(){return e(v).chords[e(p)]}function ie(d){const t=O(),l=t.note+"3",P=Re[l],_=Me(P,t.type,e(C));return[_.root,_.third,_.fifth,_.seventh].filter(I=>I!==void 0)}function ve(d){const t=O(),{leftHand:l,rightHand:P}=je(t.note,t.type,e(C),e(S));return{selectedNote:t.note,leftHand:l,rightHand:P}}function ce(d,t,l,P){if(l.includes(t.noteNumber))if(i(c,new Set([...e(c),t.noteNumber]),!0),e(c).size===l.length){const _=O();return{isCorrect:!0,message:`Perfect ${`${_.note}${_.type}`}! ðŸŽµâœ¨`,collected:!0,resetCollected:!1}}else return{isCorrect:!0,message:`Good! ${e(c).size}/${l.length} notes`,collected:!0,resetCollected:!1};else return i(c,new Set,!0),{isCorrect:!1,message:"Wrong note!",collected:!1,resetCollected:!0}}function ue(d,t){const l=[...new Set(t)];return e(c).size===l.length}function de(){e(p)<e(v).chords.length-1&&(Pe(p),i(c,new Set,!0))}function _e(d){const t=d.target;i(S,t.value,!0),i(c,new Set,!0)}function pe(d){const t=d.target;i(C,parseInt(t.value),!0),i(c,new Set,!0)}function he(d){const t=d.target,l=parseInt(t.value);i(v,a[l],!0),i(p,0),i(c,new Set,!0)}{const d=(l,P=Ne)=>{var _=ze(),w=r(_),I=r(w),ge=r(I,!0);s(I);var J=o(I,2);{var fe=n=>{var u=De(),g=r(u);s(u),M(()=>y(g,`by ${e(v).composer??""}`)),E(n,u)};ae(J,n=>{e(v).composer&&n(fe)})}var U=o(J,2);{var me=n=>{var u=He(),g=r(u);s(u),M(()=>y(g,`Key: ${e(v).key??""}`)),E(n,u)};ae(U,n=>{e(v).key&&n(me)})}var W=o(U,2),xe=r(W);s(W),s(w);var k=o(w,2);ne(k,21,()=>e(v).chords,re,(n,u,g)=>{var h=Le();let T;var oe=r(h),be=r(oe);s(oe),s(h),M(()=>{T=Ee(h,1,"chord-box svelte-n1uxvh",null,T,{current:g===e(p),completed:g<e(p)}),y(be,`${e(u).note??""}${e(u).type??""}`)}),E(n,h)}),s(k);var D=o(k,2),m=o(r(D),2);m.__change=he,ne(m,21,()=>a,re,(n,u,g)=>{var h=Ve(),T=r(h,!0);s(h),h.value=h.__value=g,M(()=>y(T,e(u).name)),E(n,h)}),s(m);var Q;K(m),s(D);var H=o(D,2),x=o(r(H),2);x.__change=_e;var L=r(x);L.value=L.__value="full-right";var V=o(L);V.value=V.__value="full-left";var z=o(V);z.value=z.__value="1735";var X=o(z);X.value=X.__value="1537",s(x);var Y;K(x),s(H);var Z=o(H,2),b=o(r(Z),2);b.__change=pe;var q=r(b);q.value=q.__value="0";var A=o(q);A.value=A.__value="1";var F=o(A);F.value=F.__value="2";var ee=o(F);ee.value=ee.__value="3",s(b);var te;K(b),s(Z),s(_),M(n=>{y(ge,e(v).name),y(xe,`Chord ${e(p)+1} of ${e(v).chords.length??""}`),Q!==(Q=n)&&(m.value=(m.__value=n)??"",G(m,n)),Y!==(Y=e(S))&&(x.value=(x.__value=e(S))??"",G(x,e(S))),te!==(te=e(C))&&(b.value=(b.__value=e(C))??"",G(b,e(C)))},[()=>a.indexOf(e(v))]),E(l,_)};let t=we(()=>O().note);$e(N,{randomMode:!1,generateExpectedNotes:ie,generateScoreProps:ve,validateNoteEvent:ce,isCompleted:ue,onReset:le,onComplete:de,get initialNote(){return e(t)},description:R,exerciseType:"progression",children:d,$$slots:{default:!0}})}Se()}Ie(["change"]);export{Xe as component,Qe as universal};
