import{_ as B}from"../chunks/PPVm8Dsz.js";import{f as R,a as E}from"../chunks/CFIxE8eA.js";import{p as Ce,U as $,V as se,g as ye,Z as i,W as Ne,k as e,X as Se,a as Pe,Y as we,s as o,c as r,t as M,r as s}from"../chunks/jpeKWS-T.js";import{d as Ie,s as y}from"../chunks/CMZx5vTi.js";import{e as ne,i as re}from"../chunks/avTJGQda.js";import{i as ae}from"../chunks/etsv1dl2.js";import{i as U,s as W,a as Ee}from"../chunks/CqnklocC.js";import{B as $e,a as Me,g as Re}from"../chunks/anoD3tQK.js";import{N as je}from"../chunks/CXrKfc7O.js";const ke=(N,f,j)=>{const a=N[f];return a?typeof a=="function"?a():Promise.resolve(a):new Promise((v,p)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(p.bind(null,new Error("Unknown variable dynamic import: "+f+(f.split("/").length!==j?". Note that variables only represent file names one level deep.":""))))})},Oe=["autumn-leaves","blue-bossa","all-the-things-you-are"],Te=async()=>{const N=Oe.map(a=>ke(Object.assign({"../../../lib/data/songs/all-the-things-you-are.json":()=>B(()=>import("../chunks/2UkcjGIk.js"),[],import.meta.url),"../../../lib/data/songs/autumn-leaves.json":()=>B(()=>import("../chunks/BdeHQ9Rf.js"),[],import.meta.url),"../../../lib/data/songs/blue-bossa.json":()=>B(()=>import("../chunks/DHqQcmTd.js"),[],import.meta.url)}),`../../../lib/data/songs/${a}.json`,7));return{songs:(await Promise.all(N)).map(a=>a.default)}},Ye=Object.freeze(Object.defineProperty({__proto__:null,load:Te},Symbol.toStringTag,{value:"Module"}));var Ve=R('<div class="song-info svelte-n1uxvh"> </div>'),De=R('<div class="song-info svelte-n1uxvh"> </div>'),He=R('<div><div class="chord-name svelte-n1uxvh"> </div></div>'),ze=R("<option> </option>"),Le=R('<div class="song-controls svelte-n1uxvh"><div class="song-header svelte-n1uxvh"><h2 class="svelte-n1uxvh"> </h2> <!> <!> <div class="chord-progress svelte-n1uxvh"> </div></div> <div class="chord-progression svelte-n1uxvh"></div> <div class="control-group svelte-n1uxvh"><label for="song" class="svelte-n1uxvh">Song:</label> <select id="song" class="svelte-n1uxvh"></select></div> <div class="control-group svelte-n1uxvh"><label for="voicing" class="svelte-n1uxvh">Voicing:</label> <select id="voicing" class="svelte-n1uxvh"><option>Full Right Hand</option><option>Full Left Hand</option><option>Split (1-7-3-5)</option><option>Split (1-5-3-7)</option></select></div> <div class="control-group svelte-n1uxvh"><label for="inversion" class="svelte-n1uxvh">Inversion:</label> <select id="inversion" class="svelte-n1uxvh"><option>Root Position</option><option>1st Inversion</option><option>2nd Inversion</option><option>3rd Inversion</option></select></div></div>');function Ze(N,f){Ce(f,!0);const j="Practice chord progressions from real songs. Play each chord in the progression.",a=f.data.songs;let v=$(se(a[0])),p=$(0),S=$("full-right"),C=$(0),c=$(se(new Set));ye(()=>{i(p,0),i(c,new Set,!0)});function le(){i(c,new Set,!0)}function k(){return e(v).chords[e(p)]}function ie(d){const t=k(),l=t.note+"3",P=je[l],_=Me(P,t.type,e(C));return[_.root,_.third,_.fifth,_.seventh].filter(I=>I!==void 0)}function ve(d){const t=k(),{leftHand:l,rightHand:P}=Re(t.note,t.type,e(C),e(S));return{selectedNote:t.note,leftHand:l,rightHand:P}}function ce(d,t,l,P){if(l.includes(t.noteNumber))if(i(c,new Set([...e(c),t.noteNumber]),!0),e(c).size===l.length){const _=k();return{isCorrect:!0,message:`Perfect ${`${_.note}${_.type}`}! ðŸŽµâœ¨`,collected:!0,resetCollected:!1}}else return{isCorrect:!0,message:`Good! ${e(c).size}/${l.length} notes`,collected:!0,resetCollected:!1};else return i(c,new Set,!0),{isCorrect:!1,message:"Wrong note!",collected:!1,resetCollected:!0}}function ue(d,t){const l=[...new Set(t)];return e(c).size===l.length}function de(){e(p)<e(v).chords.length-1&&(we(p),i(c,new Set,!0))}function _e(d){const t=d.target;i(S,t.value,!0),i(c,new Set,!0)}function pe(d){const t=d.target;i(C,parseInt(t.value),!0),i(c,new Set,!0)}function he(d){const t=d.target,l=parseInt(t.value);i(v,a[l],!0),i(p,0),i(c,new Set,!0)}{const d=(l,P=Ne)=>{var _=Le(),w=r(_),I=r(w),ge=r(I,!0);s(I);var G=o(I,2);{var fe=n=>{var u=Ve(),g=r(u);s(u),M(()=>y(g,`by ${e(v).composer??""}`)),E(n,u)};ae(G,n=>{e(v).composer&&n(fe)})}var K=o(G,2);{var me=n=>{var u=De(),g=r(u);s(u),M(()=>y(g,`Key: ${e(v).key??""}`)),E(n,u)};ae(K,n=>{e(v).key&&n(me)})}var X=o(K,2),xe=r(X);s(X),s(w);var T=o(w,2);ne(T,21,()=>e(v).chords,re,(n,u,g)=>{var h=He();let O;var oe=r(h),be=r(oe);s(oe),s(h),M(()=>{O=Ee(h,1,"chord-box svelte-n1uxvh",null,O,{current:g===e(p),completed:g<e(p)}),y(be,`${e(u).note??""}${e(u).type??""}`)}),E(n,h)}),s(T);var V=o(T,2),m=o(r(V),2);m.__change=he,ne(m,21,()=>a,re,(n,u,g)=>{var h=ze(),O=r(h,!0);s(h),h.value=h.__value=g,M(()=>y(O,e(u).name)),E(n,h)}),s(m);var Y;U(m),s(V);var D=o(V,2),x=o(r(D),2);x.__change=_e;var H=r(x);H.value=H.__value="full-right";var z=o(H);z.value=z.__value="full-left";var L=o(z);L.value=L.__value="1735";var Z=o(L);Z.value=Z.__value="1537",s(x);var J;U(x),s(D);var Q=o(D,2),b=o(r(Q),2);b.__change=pe;var q=r(b);q.value=q.__value="0";var A=o(q);A.value=A.__value="1";var F=o(A);F.value=F.__value="2";var ee=o(F);ee.value=ee.__value="3",s(b);var te;U(b),s(Q),s(_),M(n=>{y(ge,e(v).name),y(xe,`Chord ${e(p)+1} of ${e(v).chords.length??""}`),Y!==(Y=n)&&(m.value=(m.__value=n)??"",W(m,n)),J!==(J=e(S))&&(x.value=(x.__value=e(S))??"",W(x,e(S))),te!==(te=e(C))&&(b.value=(b.__value=e(C))??"",W(b,e(C)))},[()=>a.indexOf(e(v))]),E(l,_)};let t=Se(()=>k().note);$e(N,{randomMode:!1,generateExpectedNotes:ie,generateScoreProps:ve,validateNoteEvent:ce,isCompleted:ue,onReset:le,onComplete:de,get initialNote(){return e(t)},description:j,exerciseType:"progression",children:d,$$slots:{default:!0}})}Pe()}Ie(["change"]);export{Ze as component,Ye as universal};
