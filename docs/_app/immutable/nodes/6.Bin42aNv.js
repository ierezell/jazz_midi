import{f as I,a as u,t as A,c as pe}from"../chunks/CX1yysGK.js";import{p as Ne,J as S,K as _e,d as W,j as e,L as he,a as xe,M as s,f as Y,s as g,c as o,t as k,N as F,r as n,O as be}from"../chunks/Dpgs3mFS.js";import{d as Ce,s as E}from"../chunks/dcQTQ1xv.js";import{i as L}from"../chunks/FFlPY-wq.js";import{r as Ee}from"../chunks/gBQeIBP2.js";import{b as Le}from"../chunks/SMVfkwnP.js";import{a as z,D as ye,N as Me,M as Q}from"../chunks/DgZpB3qr.js";import{B as Se}from"../chunks/CedzibQm.js";var Te=I('<div class="answer-display svelte-1t6gd2v"><span class="arrow svelte-1t6gd2v">â†’</span> <div class="note-card correct svelte-1t6gd2v"><span class="note-name svelte-1t6gd2v"> </span> <span class="notation-type svelte-1t6gd2v"> </span></div></div>'),De=I('<button class="next-note-btn svelte-1t6gd2v">Next Note</button>'),we=I('<div class="note-controls svelte-1t6gd2v"><div class="control-group svelte-1t6gd2v"><label class="svelte-1t6gd2v"><input type="checkbox" class="svelte-1t6gd2v"/> English â†’ Latin</label></div> <!></div>'),Ae=I('<!> <div class="note-name-exercise svelte-1t6gd2v"><div class="exercise-info svelte-1t6gd2v"><h2 class="svelte-1t6gd2v">Note Name Translation</h2> <p class="instruction svelte-1t6gd2v"><!></p></div> <div class="note-display svelte-1t6gd2v"><div class="note-card svelte-1t6gd2v"><span class="note-name svelte-1t6gd2v"> </span> <span class="notation-type svelte-1t6gd2v"> </span></div> <!></div> <!></div>',1);function Oe(X,N){Ne(N,!0);const Z="Identify and play the note name shown. Use either English or Latin notation.",y={C:"Do","C#":"Do#",Db:"Reb",D:"Re","D#":"Re#",Eb:"Mib",E:"Mi",F:"Fa","F#":"Fa#",Gb:"Solb",G:"Sol","G#":"Sol#",Ab:"Lab",A:"La","A#":"La#",Bb:"Sib",B:"Si"};let r=S(_e(N.englishToLatin??!0)),d=S(""),c=S("C"),x=S(!1),b=S(!1);function $(){s(x,!1),s(b,!1),T()}W(()=>{e(b)&&N.onComplete&&N.onComplete()});function T(){const l=z[Math.floor(Math.random()*z.length)];if(s(c,l,!0),e(r))s(d,l,!0);else{const i=y[l];s(d,i,!0)}s(x,!1)}function O(l){const i=e(c)+ye,_=Me[i];return console.debug(`Note name exercise: ${e(d)} -> ${e(c)}`,`Expected MIDI: ${_}`),[_]}function ee(l){const D=O().map(v=>Q[v]).map(v=>[v]);return{selectedNote:l,leftHand:[],rightHand:D}}function te(l,i,_,D){if(_.includes(i.noteNumber)){s(x,!0);const C=e(r)?"English":"Latin",v=e(r)?"Latin":"English",w=e(r)?y[e(c)]:e(c);return setTimeout(()=>{T()},1500),{isCorrect:!0,message:`Perfect! ${e(d)} (${C}) = ${w} (${v}) ðŸŽµâœ¨`,collected:!0,resetCollected:!0}}else{const C=Q[i.noteNumber]?.slice(0,-1),v=e(r)?y[e(c)]:e(c);return{isCorrect:!1,message:`Wrong! You played ${C}. ${e(d)} = ${v}`,collected:!1,resetCollected:!1}}}function ae(l,i){return!1}function se(l){const i=l.target;s(r,i.checked,!0),e(r)?s(d,e(c),!0):s(d,y[e(c)],!0)}function oe(){s(x,!1),s(b,!1),T()}W(()=>{e(d)||T()});{const l=(D,C=he)=>{const v=F(()=>e(b)),w=F(()=>C().completed);var q=Ae(),K=Y(q);{var ne=t=>{var a=A();k(()=>E(a,s(b,!0))),u(t,a)},re=t=>{var a=pe(),m=Y(a);{var p=f=>{var h=A();k(()=>E(h,s(b,!1))),u(f,h)};L(m,f=>{!e(w)&&e(v)&&f(p)},!0)}u(t,a)};L(K,t=>{e(w)&&!e(v)?t(ne):t(re,!1)})}var U=g(K,2),P=o(U),j=g(o(P),2),le=o(j);{var ie=t=>{var a=A("Play the Latin (SolfÃ¨ge) equivalent of this English note:");u(t,a)},ce=t=>{var a=A("Play the English equivalent of this Latin (SolfÃ¨ge) note:");u(t,a)};L(le,t=>{e(r)?t(ie):t(ce,!1)})}n(j),n(P);var R=g(P,2),B=o(R),G=o(B),ve=o(G,!0);n(G);var J=g(G,2),de=o(J,!0);n(J),n(B);var fe=g(B,2);{var ue=t=>{var a=Te(),m=g(o(a),2),p=o(m),f=o(p,!0);n(p);var h=g(p,2),H=o(h,!0);n(h),n(m),n(a),k(()=>{E(f,e(r)?y[e(c)]:e(c)),E(H,e(r)?"Latin (SolfÃ¨ge)":"English")}),u(t,a)};L(fe,t=>{e(x)&&t(ue)})}n(R);var ge=g(R,2);{var me=t=>{var a=we(),m=o(a),p=o(m),f=o(p);Ee(f),f.__change=se,be(),n(p),n(m);var h=g(m,2);{var H=M=>{var V=De();V.__click=oe,u(M,V)};L(h,M=>{e(x)&&M(H)})}n(a),Le(f,()=>e(r),M=>s(r,M)),u(t,a)};L(ge,t=>{N.randomMode||t(me)})}n(U),k(()=>{E(ve,e(d)),E(de,e(r)?"English":"Latin (SolfÃ¨ge)")}),u(D,q)};let i=F(()=>N.onComplete??(()=>{})),_=F(()=>N.rootKey||"C");Se(X,{randomMode:!0,generateExpectedNotes:O,generateScoreProps:ee,validateNoteEvent:te,isCompleted:ae,onReset:$,get onComplete(){return e(i)},showScore:!1,get initialNote(){return e(_)},description:Z,children:l,$$slots:{default:!0}})}xe()}Ce(["change","click"]);export{Oe as component};
