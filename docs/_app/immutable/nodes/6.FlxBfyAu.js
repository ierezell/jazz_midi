import"../chunks/NZTpNUN0.js";import{d as re,o as te,a as oe,s as D}from"../chunks/BtHBiExd.js";import{w as U,A as se,q as ne,ao as ie,ap as ce,z as ve,G as le,I as de,v as fe,J as me,M as pe,U as he,L as ue,p as _e,aq as w,R as ge,g as xe,k as o,S as h,ar as Me,f as E,d as c,b as m,c as be,s as p,r as v,t as L,as as ye,at as I,a as k}from"../chunks/CopMHf-A.js";import{i as y}from"../chunks/BZTAz8MF.js";import{A as z,a as F}from"../chunks/CJpwhoEZ.js";import{component as Ce}from"./4.fUZbcpQZ.js";import{component as we}from"./7.CKXNtvHj.js";import{component as Ie}from"./8.Cu6XEaUV.js";function ke($,R,s){U&&se();var u=$,d=he,f,n,l=null,q=ne()?ie:ce;function _(){f&&ue(f),l!==null&&(l.lastChild.remove(),u.before(l),l=null),f=n}ve(()=>{if(q(d,d=R())){var g=u,x=me();x&&(l=document.createDocumentFragment(),l.append(g=le())),n=de(()=>s(g)),x?fe.add_callback(_):_()}}),U&&(u=pe)}var Ee=E('<div class="exercise-info svelte-19hv93r"><span class="exercise-type svelte-19hv93r"> </span> <span class="exercise-description svelte-19hv93r"> </span></div>'),$e=E('<div class="completion-overlay svelte-19hv93r"><div class="completion-message svelte-19hv93r"><h2 class="svelte-19hv93r">ðŸŽ‰ Exercise Completed!</h2> <p class="svelte-19hv93r">Great job! Next random exercise in <strong> </strong> seconds...</p> <button class="skip-btn svelte-19hv93r">Skip Wait</button></div></div>'),Re=E('<div class="loading svelte-19hv93r">Generating random exercise...</div>'),qe=E('<div class="random-exercise svelte-19hv93r"><div class="random-header svelte-19hv93r"><h1 class="svelte-19hv93r">Random Exercise</h1> <div class="random-controls svelte-19hv93r"><button class="new-exercise-btn svelte-19hv93r">ðŸŽ² New Random Exercise</button></div> <!></div> <!> <!></div>');function Ue($,R){_e(R,!0);let s=w(ge({type:"chord",key:"C",chordType:"maj7",inversion:0,description:"Cmaj - Random Voicing"})),u=w(0),d=w(!1),f=w(0),n=null;xe(()=>{o(d)&&o(s)&&(n&&clearInterval(n),h(f,3),n=setInterval(()=>{Me(f,-1),o(f)<=0&&(n&&clearInterval(n),_(),h(d,!1))},1e3))});function l(){const e=["chord","scale","ii-v-i"],a=e[Math.floor(Math.random()*e.length)],r=F[Math.floor(Math.random()*F.length)];return q(a,r)}function q(e,a){switch(e){case"chord":{const r=z[Math.floor(Math.random()*z.length)],t=Math.floor(Math.random()*4);return{type:e,key:a,chordType:r,inversion:t,description:`${a}${r}${t>0?` (${t}st inversion)`:""} - Random Voicing`}}case"scale":{const r=["Major","Minor"],t=r[Math.floor(Math.random()*r.length)],i=Math.random()>.5?"Sequential":"Any Order";return{type:e,key:a,description:`${a} ${t} Scale (${i})`}}case"ii-v-i":{const r=Math.floor(Math.random()*4);return{type:e,key:a,inversion:r,description:`${a} ii-V-I Progression${r>0?` (${r}st inversion)`:""} - Random Voicing`}}default:throw new Error(`Unknown exercise type: ${e}`)}}function _(){h(s,l(),!0),h(u,Date.now(),!0),h(d,!1)}function g(){h(d,!0)}te(()=>{h(s,l(),!0)}),oe(()=>{n&&clearInterval(n)});var x=qe(),A=c(x),N=p(c(A),2),J=c(N);J.__click=_,v(N);var K=p(N,2);{var O=e=>{var a=Ee(),r=c(a),t=c(r,!0);v(r);var i=p(r,2),C=c(i,!0);v(i),v(a),L(()=>{D(t,o(s).type),D(C,o(s).description)}),m(e,a)};y(K,e=>{o(s)&&e(O)})}v(A);var T=p(A,2);{var P=e=>{var a=$e(),r=c(a),t=p(c(r),2),i=p(c(t)),C=c(i,!0);v(i),ye(),v(t);var S=p(t,2);S.__click=_,v(r),v(a),L(()=>D(C,o(f))),m(e,a)};y(T,e=>{o(d)&&e(P)})}var W=p(T,2);{var Z=e=>{var a=I(),r=k(a);ke(r,()=>o(u),t=>{var i=I(),C=k(i);{var S=M=>{Ce(M,{randomMode:!0,onComplete:g})},H=M=>{var V=I(),Q=k(V);{var X=b=>{we(b,{randomMode:!0,onComplete:g})},Y=b=>{var G=I(),ee=k(G);{var ae=j=>{Ie(j,{randomMode:!0,onComplete:g})};y(ee,j=>{o(s).type==="ii-v-i"&&j(ae)},!0)}m(b,G)};y(Q,b=>{o(s).type==="scale"?b(X):b(Y,!1)},!0)}m(M,V)};y(C,M=>{o(s).type==="chord"?M(S):M(H,!1)})}m(t,i)}),m(e,a)},B=e=>{var a=Re();m(e,a)};y(W,e=>{o(s)?e(Z):e(B,!1)})}v(x),m($,x),be()}re(["click"]);export{Ue as component};
