import{t as g,a as y}from"../chunks/D4BXdcC1.js";import{p as U,a5 as N,a6 as V,a7 as b,c as n,k as e,a as W,s as r,r as v,a8 as i,t as w}from"../chunks/Dpbo9POk.js";import{s as I}from"../chunks/DHZI45yO.js";import{i as X}from"../chunks/CjAJ5wv6.js";import{e as K,i as j}from"../chunks/Drm_huYl.js";import{K as B,b as D,e as Y,o as Z}from"../chunks/DNZgKaXb.js";import{o as ee}from"../chunks/BvgYcItv.js";import{c as te,N as oe,R as ae,A as le,a as se,g as re}from"../chunks/CbKQRmhn.js";var ie=g("<option> </option>"),ne=g("<option> </option>"),ve=g('<p class="svelte-1m3v1yp"> </p>'),pe=g('<main class="svelte-1m3v1yp"><h1>Scales</h1> <h2>Major Scale</h2> <!> <br> <br> <!> <label for="note-select" class="svelte-1m3v1yp">Select a Note:</label> <select class="svelte-1m3v1yp"><option>--Choose a Note--</option><!></select> <label for="chord-select" class="svelte-1m3v1yp">Select a Note:</label> <select class="svelte-1m3v1yp"><option>--Choose a Note--</option><!></select> <!></main>');function Ne(P,R){U(R,!0);let p=N(V([])),q=b(()=>e(p).map(t=>t.noteNumber)),M,S=N("C"),A=N("maj7"),z=b(()=>e(S)+"4"),m=b(()=>te(oe[e(z)],e(A))),f=b(()=>[e(m).root,e(m).third,e(m).fifth,e(m).seventh].filter(t=>t!=null&&t!=null)),l=[],c=N(""),u=null,d=null;function G(t){const o=re(t);o.type==="on"?(i(p,[o,...e(p)],!0),l.push(o.noteNumber),l=[...new Set(l)],l.every(a=>e(f).includes(a))?l.length===e(f).length?(i(c,"Bravo!"),d&&d.play(),l=[]):i(c,`${e(f).length-l.length} notes to go`):(i(c,"Try again"),u&&u.play(),l=[])):i(p,e(p).filter(a=>a.noteFullName!==o.noteFullName),!0)}ee(async()=>{u=new Audio(Y),u.volume=.5,u.loop=!1,d=new Audio(Z),d.volume=.5,d.loop=!1;try{M=await ae(),console.log("Scale MIDI Access obtained:",M),M.inputs.forEach(o=>{o.onmidimessage=G})}catch(t){console.error("Failed to obtain MIDI Access:",t)}});var x=pe(),T=r(n(x),4);B(T,{get midiNotes(){return e(f)},middleC:60,octaves:2});var E=r(T,6);B(E,{get midiNotes(){return e(q)},middleC:60,octaves:2});var _=r(E,4),C=n(_);C.value=((C.__value="")==null,"");var H=r(C);K(H,17,()=>le,j,(t,o)=>{var a=ie(),$={},s=n(a,!0);v(a),w(()=>{$!==($=e(o))&&(a.value=(a.__value=e(o))==null?"":e(o)),I(s,e(o))}),y(t,a)}),v(_);var h=r(_,4),k=n(h);k.value=((k.__value="")==null,"");var J=r(k);K(J,17,()=>se,j,(t,o,a,$)=>{var s=ne(),F={},Q=n(s,!0);v(s),w(()=>{F!==(F=e(o))&&(s.value=(s.__value=e(o))==null?"":e(o)),I(Q,e(o))}),y(t,s)}),v(h);var L=r(h,2);{var O=t=>{var o=ve(),a=n(o,!0);v(o),w(()=>I(a,e(c))),y(t,o)};X(L,t=>{e(c)&&t(O)})}v(x),D(_,()=>e(S),t=>i(S,t)),D(h,()=>e(A),t=>i(A,t)),y(P,x),W()}export{Ne as component};
