import{f as I,a as u,t as A,c as pe}from"../chunks/BHFmxDGj.js";import{p as Ne,U as T,V as _e,n as X,v as e,W as he,a as xe,X as s,f as Z,s as g,c as o,t as k,Y as F,r as n,Z as be}from"../chunks/D-WvxLPx.js";import{d as Ce,s as E}from"../chunks/y4LLdheI.js";import{i as y}from"../chunks/DD9bTvrE.js";import{r as Ee}from"../chunks/C_BxDK4Q.js";import{b as ye}from"../chunks/DdwD3CYA.js";import{a as j,D as Le,N as Se,M as z}from"../chunks/DgZpB3qr.js";import{B as Te}from"../chunks/CpJS4eQ0.js";var Me=I('<div class="answer-display svelte-1t6gd2v"><span class="arrow svelte-1t6gd2v">â†’</span> <div class="note-card correct svelte-1t6gd2v"><span class="note-name svelte-1t6gd2v"> </span> <span class="notation-type svelte-1t6gd2v"> </span></div></div>'),De=I('<button class="next-note-btn svelte-1t6gd2v">Next Note</button>'),we=I('<div class="note-controls svelte-1t6gd2v"><div class="control-group svelte-1t6gd2v"><label class="svelte-1t6gd2v"><input type="checkbox" class="svelte-1t6gd2v"/> English â†’ Latin</label></div> <!></div>'),Ae=I('<!> <div class="note-name-exercise svelte-1t6gd2v"><div class="exercise-info svelte-1t6gd2v"><h2 class="svelte-1t6gd2v">Note Name Translation</h2> <p class="instruction svelte-1t6gd2v"><!></p></div> <div class="note-display svelte-1t6gd2v"><div class="note-card svelte-1t6gd2v"><span class="note-name svelte-1t6gd2v"> </span> <span class="notation-type svelte-1t6gd2v"> </span></div> <!></div> <!></div>',1);function Ue(J,N){Ne(N,!0);const Q="Identify and play the note name shown. Use either English or Latin notation.",L={C:"Do","C#":"Do#",Db:"Reb",D:"Re","D#":"Re#",Eb:"Mib",E:"Mi",F:"Fa","F#":"Fa#",Gb:"Solb",G:"Sol","G#":"Sol#",Ab:"Lab",A:"La","A#":"La#",Bb:"Sib",B:"Si"};let r=T(_e(N.englishToLatin??!0)),d=T(""),c=T("C"),x=T(!1),b=T(!1);function $(){s(x,!1),s(b,!1),M()}X(()=>{e(b)&&N.onComplete&&N.onComplete()});function M(){const l=j[Math.floor(Math.random()*j.length)];if(s(c,l,!0),e(r))s(d,l,!0);else{const i=L[l];s(d,i,!0)}s(x,!1)}function U(l){const i=e(c)+Le,_=Se[i];return console.debug(`Note name exercise: ${e(d)} -> ${e(c)}`,`Expected MIDI: ${_}`),[_]}function ee(l){const D=U().map(v=>z[v]).map(v=>[v]);return{selectedNote:l,leftHand:[],rightHand:D}}function te(l,i,_,D){if(_.includes(i.noteNumber)){s(x,!0);const C=e(r)?"English":"Latin",v=e(r)?"Latin":"English",w=e(r)?L[e(c)]:e(c);return setTimeout(()=>{M()},1500),{isCorrect:!0,message:`Perfect! ${e(d)} (${C}) = ${w} (${v}) ðŸŽµâœ¨`,collected:!0,resetCollected:!0}}else{const C=z[i.noteNumber]?.slice(0,-1),v=e(r)?L[e(c)]:e(c);return{isCorrect:!1,message:`Wrong! You played ${C}. ${e(d)} = ${v}`,collected:!1,resetCollected:!1}}}function ae(l,i){return!1}function se(l){const i=l.target;s(r,i.checked,!0),e(r)?s(d,e(c),!0):s(d,L[e(c)],!0)}function oe(){s(x,!1),s(b,!1),M()}X(()=>{e(d)||M()});{const l=(D,C=he)=>{const v=F(()=>e(b)),w=F(()=>C().completed);var q=Ae(),O=Z(q);{var ne=t=>{var a=A();k(()=>E(a,s(b,!0))),u(t,a)},re=t=>{var a=pe(),m=Z(a);{var p=f=>{var h=A();k(()=>E(h,s(b,!1))),u(f,h)};y(m,f=>{!e(w)&&e(v)&&f(p)},!0)}u(t,a)};y(O,t=>{e(w)&&!e(v)?t(ne):t(re,!1)})}var V=g(O,2),P=o(V),W=g(o(P),2),le=o(W);{var ie=t=>{var a=A("Play the Latin (SolfÃ¨ge) equivalent of this English note:");u(t,a)},ce=t=>{var a=A("Play the English equivalent of this Latin (SolfÃ¨ge) note:");u(t,a)};y(le,t=>{e(r)?t(ie):t(ce,!1)})}n(W),n(P);var R=g(P,2),B=o(R),G=o(B),ve=o(G,!0);n(G);var Y=g(G,2),de=o(Y,!0);n(Y),n(B);var fe=g(B,2);{var ue=t=>{var a=Me(),m=g(o(a),2),p=o(m),f=o(p,!0);n(p);var h=g(p,2),H=o(h,!0);n(h),n(m),n(a),k(()=>{E(f,e(r)?L[e(c)]:e(c)),E(H,e(r)?"Latin (SolfÃ¨ge)":"English")}),u(t,a)};y(fe,t=>{e(x)&&t(ue)})}n(R);var ge=g(R,2);{var me=t=>{var a=we(),m=o(a),p=o(m),f=o(p);Ee(f),f.__change=se,be(),n(p),n(m);var h=g(m,2);{var H=S=>{var K=De();K.__click=oe,u(S,K)};y(h,S=>{e(x)&&S(H)})}n(a),ye(f,()=>e(r),S=>s(r,S)),u(t,a)};y(ge,t=>{N.randomMode||t(me)})}n(V),k(()=>{E(ve,e(d)),E(de,e(r)?"English":"Latin (SolfÃ¨ge)")}),u(D,q)};let i=F(()=>N.onComplete??(()=>{})),_=F(()=>N.rootKey||"C");Te(J,{randomMode:!0,generateExpectedNotes:U,generateScoreProps:ee,validateNoteEvent:te,isCompleted:ae,onReset:$,get onComplete(){return e(i)},showScore:!1,get initialNote(){return e(_)},description:Q,children:l,$$slots:{default:!0}})}xe()}Ce(["change","click"]);export{Ue as component};
