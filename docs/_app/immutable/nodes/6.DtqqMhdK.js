import"../chunks/NZTpNUN0.js";import{p as me,N as S,O as pe,g as z,k as e,c as Ne,R as n,P as _e,Q as k,f as F,a as J,s as u,d as s,t as P,b as m,r as o,S as R,T as xe,V as ge}from"../chunks/DekTh3_k.js";import{d as he,s as E}from"../chunks/BEn0398A.js";import{i as y}from"../chunks/De59rqUo.js";import{r as je}from"../chunks/9bBOD8_0.js";import{b as be}from"../chunks/BqeKQDpR.js";import{M as X,D as Ce,N as Ee,c as Z}from"../chunks/BcYS4v02.js";import{B as ye}from"../chunks/Bq00vTX4.js";function Le(T,r,L){const p=T.target;n(r,p.checked,!0),L()}function Me(T,r,L,p){n(r,!1),n(L,!1),p()}var Se=F('<div class="answer-display svelte-10jx38j"><span class="arrow svelte-10jx38j">â†’</span> <div class="note-card correct svelte-10jx38j"><span class="note-name svelte-10jx38j"> </span> <span class="notation-type svelte-10jx38j"> </span></div></div>'),Te=F('<button class="next-note-btn svelte-10jx38j">Next Note</button>'),De=F('<div class="note-controls svelte-10jx38j"><div class="control-group svelte-10jx38j"><label class="svelte-10jx38j"><input type="checkbox" class="svelte-10jx38j"/> English â†’ Latin</label></div> <!></div>'),Ae=F('<!> <div class="note-name-exercise svelte-10jx38j"><div class="exercise-info svelte-10jx38j"><h2 class="svelte-10jx38j">Note Name Translation</h2> <p class="instruction svelte-10jx38j"><!></p></div> <div class="note-display svelte-10jx38j"><div class="note-card svelte-10jx38j"><span class="note-name svelte-10jx38j"> </span> <span class="notation-type svelte-10jx38j"> </span></div> <!></div> <!></div>',1);function He(T,r){me(r,!0);const L="Identify and play the note name shown. Use either English or Latin notation.",p={C:"Do","C#":"Do#",Db:"Reb",D:"Re","D#":"Re#",Eb:"Mib",E:"Mi",F:"Fa","F#":"Fa#",Gb:"Solb",G:"Sol","G#":"Sol#",Ab:"Lab",A:"La","A#":"La#",Bb:"Sib",B:"Si"};let l=S(pe(r.englishToLatin??!0)),x=S(""),d=S("C"),g=S(!1),b=S(!1);function $(){n(g,!1),n(b,!1),D()}z(()=>{e(b)&&r.onComplete&&r.onComplete()});function D(){const i=Z[Math.floor(Math.random()*Z.length)];if(n(d,i,!0),e(l))n(x,i,!0);else{const c=p[i];n(x,c,!0)}n(g,!1)}function q(i){const c=e(d)+Ce,h=Ee[c];return console.debug(`Note name exercise: ${e(x)} -> ${e(d)}`,`Expected MIDI: ${h}`),[h]}function ee(i){const A=q().map(v=>X[v]).map(v=>[v]);return{selectedNote:i,leftHand:[],rightHand:A}}function te(i,c,h,A){if(h.includes(c.noteNumber)){n(g,!0);const C=e(l)?"English":"Latin",v=e(l)?"Latin":"English",w=e(l)?p[e(d)]:e(d);return{isCorrect:!0,message:`Perfect! ${e(x)} (${C}) = ${w} (${v}) ðŸŽµâœ¨`,collected:!0,resetCollected:!1}}else{const C=X[c.noteNumber]?.slice(0,-1),v=e(l)?p[e(d)]:e(d);return{isCorrect:!1,message:`Wrong! You played ${C}. ${e(x)} = ${v}`,collected:!1,resetCollected:!0}}}function ae(i,c){return e(g)}z(()=>{e(x)||D()});{const i=(A,C=_e)=>{var v=Ae();const w=k(()=>e(b)),U=k(()=>C().completed);var V=J(v);{var se=t=>{var a=R();P(()=>E(a,n(b,!0))),m(t,a)},oe=t=>{var a=xe(),N=J(a);{var _=f=>{var j=R();P(()=>E(j,n(b,!1))),m(f,j)};y(N,f=>{!e(U)&&e(w)&&f(_)},!0)}m(t,a)};y(V,t=>{e(U)&&!e(w)?t(se):t(oe,!1)})}var K=u(V,2),I=s(K),Q=u(s(I),2),ne=s(Q);{var re=t=>{var a=R("Play the Latin (SolfÃ¨ge) equivalent of this English note:");m(t,a)},le=t=>{var a=R("Play the English equivalent of this Latin (SolfÃ¨ge) note:");m(t,a)};y(ne,t=>{e(l)?t(re):t(le,!1)})}o(Q),o(I);var B=u(I,2),G=s(B),H=s(G),ie=s(H,!0);o(H);var W=u(H,2),ce=s(W,!0);o(W),o(G);var ve=u(G,2);{var de=t=>{var a=Se(),N=u(s(a),2),_=s(N),f=s(_,!0);o(_);var j=u(_,2),O=s(j,!0);o(j),o(N),o(a),P(()=>{E(f,e(l)?p[e(d)]:e(d)),E(O,e(l)?"Latin (SolfÃ¨ge)":"English")}),m(t,a)};y(ve,t=>{e(g)&&t(de)})}o(B);var fe=u(B,2);{var ue=t=>{var a=De(),N=s(a),_=s(N),f=s(_);je(f),f.__change=[Le,l,D],ge(),o(_),o(N);var j=u(N,2);{var O=M=>{var Y=Te();Y.__click=[Me,g,b,D],m(M,Y)};y(j,M=>{e(g)&&M(O)})}o(a),be(f,()=>e(l),M=>n(l,M)),m(t,a)};y(fe,t=>{r.randomMode||t(ue)})}o(K),P(()=>{E(ie,e(x)),E(ce,e(l)?"English":"Latin (SolfÃ¨ge)")}),m(A,v)};let c=k(()=>r.onComplete??(()=>{})),h=k(()=>r.rootKey||"C");ye(T,{get randomMode(){return r.randomMode},generateExpectedNotes:q,generateScoreProps:ee,validateNoteEvent:te,isCompleted:ae,onReset:$,get onComplete(){return e(c)},get initialNote(){return e(h)},description:L,children:i,$$slots:{default:!0}})}Ne()}he(["change","click"]);export{He as component};
