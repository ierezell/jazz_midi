import{_ as B}from"../chunks/PPVm8Dsz.js";import{f as R,a as E}from"../chunks/Bdvgn338.js";import{p as Ce,U as $,V as se,g as ye,Z as r,W as Ne,k as e,X as Se,a as we,Y as Pe,s as o,c as a,t as M,r as s}from"../chunks/ZtE6Gyvq.js";import{d as Ie,s as y}from"../chunks/BnZ86L-c.js";import{e as ne,i as re}from"../chunks/BiYp4j9H.js";import{i as ae}from"../chunks/CdTPX8-T.js";import{i as U,s as W,b as Ee}from"../chunks/DhWXMPZY.js";import{B as $e,a as Me,g as Re}from"../chunks/BGuIuzZe.js";import{N as je}from"../chunks/CXrKfc7O.js";const ke=(N,f,j)=>{const l=N[f];return l?typeof l=="function"?l():Promise.resolve(l):new Promise((c,d)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(d.bind(null,new Error("Unknown variable dynamic import: "+f+(f.split("/").length!==j?". Note that variables only represent file names one level deep.":""))))})},Oe=["autumn-leaves","blue-bossa","all-the-things-you-are"],Te=async()=>{const N=Oe.map(l=>ke(Object.assign({"../../../lib/data/songs/all-the-things-you-are.json":()=>B(()=>import("../chunks/2UkcjGIk.js"),[],import.meta.url),"../../../lib/data/songs/autumn-leaves.json":()=>B(()=>import("../chunks/BdeHQ9Rf.js"),[],import.meta.url),"../../../lib/data/songs/blue-bossa.json":()=>B(()=>import("../chunks/DHqQcmTd.js"),[],import.meta.url)}),`../../../lib/data/songs/${l}.json`,7));return{songs:(await Promise.all(N)).map(l=>l.default)}},Ye=Object.freeze(Object.defineProperty({__proto__:null,load:Te},Symbol.toStringTag,{value:"Module"}));var Ve=R('<div class="song-info svelte-n1uxvh"> </div>'),De=R('<div class="song-info svelte-n1uxvh"> </div>'),He=R('<div><div class="chord-name svelte-n1uxvh"> </div></div>'),ze=R("<option> </option>"),Le=R('<div class="song-controls svelte-n1uxvh"><div class="song-header svelte-n1uxvh"><h2 class="svelte-n1uxvh"> </h2> <!> <!> <div class="chord-progress svelte-n1uxvh"> </div></div> <div class="chord-progression svelte-n1uxvh"></div> <div class="control-group svelte-n1uxvh"><label for="song" class="svelte-n1uxvh">Song:</label> <select id="song" class="svelte-n1uxvh"></select></div> <div class="control-group svelte-n1uxvh"><label for="voicing" class="svelte-n1uxvh">Voicing:</label> <select id="voicing" class="svelte-n1uxvh"><option>Full Right Hand</option><option>Full Left Hand</option><option>Split (1-7-3-5)</option><option>Split (1-5-3-7)</option></select></div> <div class="control-group svelte-n1uxvh"><label for="inversion" class="svelte-n1uxvh">Inversion:</label> <select id="inversion" class="svelte-n1uxvh"><option>Root Position</option><option>1st Inversion</option><option>2nd Inversion</option><option>3rd Inversion</option></select></div></div>');function Ze(N,f){Ce(f,!0);const j="Practice chord progressions from real songs. Play each chord in the progression.",l=f.data.songs;let c=$(se(l[0])),d=$(0),S=$("full-right"),C=$(0),i=$(se(new Set));ye(()=>{r(d,0),r(i,new Set,!0)});function le(){r(i,new Set,!0)}function k(){return e(c).chords[e(d)]}function ie(_){const t=k(),v=t.note+"3",w=je[v],p=Me(w,t.type,e(C));return[p.root,p.third,p.fifth,p.seventh].filter(I=>I!==void 0)}function ve(_){const t=k(),{leftHand:v,rightHand:w}=Re(t.note,t.type,e(C),e(S));return{selectedNote:t.note,leftHand:v,rightHand:w}}function ce(_,t,v,w){if(v.includes(t.noteNumber))if(r(i,new Set([...e(i),t.noteNumber]),!0),e(i).size===v.length){const p=k();return{isCorrect:!0,message:`Perfect ${`${p.note}${p.type}`}! ðŸŽµâœ¨`,collected:!0,resetCollected:!1}}else return{isCorrect:!0,message:`Good! ${e(i).size}/${v.length} notes`,collected:!0,resetCollected:!1};else return r(i,new Set,!0),{isCorrect:!1,message:"Wrong note!",collected:!1,resetCollected:!0}}function ue(_,t){const v=[...new Set(t)];return e(i).size===v.length}function de(){e(d)<e(c).chords.length-1?(Pe(d),r(i,new Set,!0)):(r(d,0),r(i,new Set,!0))}function _e(_){const t=_.target;r(S,t.value,!0),r(i,new Set,!0)}function pe(_){const t=_.target;r(C,parseInt(t.value),!0),r(i,new Set,!0)}function he(_){const t=_.target,v=parseInt(t.value);r(c,l[v],!0),r(d,0),r(i,new Set,!0)}{const _=(v,w=Ne)=>{var p=Le(),P=a(p),I=a(P),ge=a(I,!0);s(I);var G=o(I,2);{var fe=n=>{var u=Ve(),g=a(u);s(u),M(()=>y(g,`by ${e(c).composer??""}`)),E(n,u)};ae(G,n=>{e(c).composer&&n(fe)})}var K=o(G,2);{var me=n=>{var u=De(),g=a(u);s(u),M(()=>y(g,`Key: ${e(c).key??""}`)),E(n,u)};ae(K,n=>{e(c).key&&n(me)})}var X=o(K,2),xe=a(X);s(X),s(P);var T=o(P,2);ne(T,21,()=>e(c).chords,re,(n,u,g)=>{var h=He();let O;var oe=a(h),be=a(oe);s(oe),s(h),M(()=>{O=Ee(h,1,"chord-box svelte-n1uxvh",null,O,{current:g===e(d),completed:g<e(d)}),y(be,`${e(u).note??""}${e(u).type??""}`)}),E(n,h)}),s(T);var V=o(T,2),m=o(a(V),2);m.__change=he,ne(m,21,()=>l,re,(n,u,g)=>{var h=ze(),O=a(h,!0);s(h),h.value=h.__value=g,M(()=>y(O,e(u).name)),E(n,h)}),s(m);var Y;U(m),s(V);var D=o(V,2),x=o(a(D),2);x.__change=_e;var H=a(x);H.value=H.__value="full-right";var z=o(H);z.value=z.__value="full-left";var L=o(z);L.value=L.__value="1735";var Z=o(L);Z.value=Z.__value="1537",s(x);var J;U(x),s(D);var Q=o(D,2),b=o(a(Q),2);b.__change=pe;var q=a(b);q.value=q.__value="0";var A=o(q);A.value=A.__value="1";var F=o(A);F.value=F.__value="2";var ee=o(F);ee.value=ee.__value="3",s(b);var te;U(b),s(Q),s(p),M(n=>{y(ge,e(c).name),y(xe,`Chord ${e(d)+1} of ${e(c).chords.length??""}`),Y!==(Y=n)&&(m.value=(m.__value=n)??"",W(m,n)),J!==(J=e(S))&&(x.value=(x.__value=e(S))??"",W(x,e(S))),te!==(te=e(C))&&(b.value=(b.__value=e(C))??"",W(b,e(C)))},[()=>l.indexOf(e(c))]),E(v,p)};let t=Se(()=>k().note);$e(N,{randomMode:!1,generateExpectedNotes:ie,generateScoreProps:ve,validateNoteEvent:ce,isCompleted:ue,onReset:le,onComplete:de,get initialNote(){return e(t)},description:j,exerciseType:"progression",children:_,$$slots:{default:!0}})}we()}Ie(["change"]);export{Ze as component,Ye as universal};
