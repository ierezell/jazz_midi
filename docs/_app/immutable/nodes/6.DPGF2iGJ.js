import"../chunks/NZTpNUN0.js";import{p as ge,O as T,P as me,g as z,k as e,Q as pe,c as _e,R as s,f as F,a as J,s as m,d as n,t as k,b as p,S as P,r,T as R,V as Ne,W as he}from"../chunks/DFYG1ZU2.js";import{d as be,s as L}from"../chunks/BgsxT_DW.js";import{i as S}from"../chunks/iFgn1dkZ.js";import{r as xe}from"../chunks/DD47jCIl.js";import{b as Ce}from"../chunks/DPC1RNvP.js";import{a as X,D as Ee,N as ye,M as Z}from"../chunks/Cxn_sF4j.js";import{B as Le}from"../chunks/CcldRWvO.js";function Se(w,l,C,i,o){const c=w.target;s(l,c.checked,!0),e(l)?s(C,e(i),!0):s(C,o[e(i)],!0)}function Me(w,l,C,i){s(l,!1),s(C,!1),i()}var Te=F('<div class="answer-display svelte-1t6gd2v"><span class="arrow svelte-1t6gd2v">â†’</span> <div class="note-card correct svelte-1t6gd2v"><span class="note-name svelte-1t6gd2v"> </span> <span class="notation-type svelte-1t6gd2v"> </span></div></div>'),we=F('<button class="next-note-btn svelte-1t6gd2v">Next Note</button>'),Ae=F('<div class="note-controls svelte-1t6gd2v"><div class="control-group svelte-1t6gd2v"><label class="svelte-1t6gd2v"><input type="checkbox" class="svelte-1t6gd2v"/> English â†’ Latin</label></div> <!></div>'),De=F('<!> <div class="note-name-exercise svelte-1t6gd2v"><div class="exercise-info svelte-1t6gd2v"><h2 class="svelte-1t6gd2v">Note Name Translation</h2> <p class="instruction svelte-1t6gd2v"><!></p></div> <div class="note-display svelte-1t6gd2v"><div class="note-card svelte-1t6gd2v"><span class="note-name svelte-1t6gd2v"> </span> <span class="notation-type svelte-1t6gd2v"> </span></div> <!></div> <!></div>',1);function He(w,l){ge(l,!0);const C="Identify and play the note name shown. Use either English or Latin notation.",i={C:"Do","C#":"Do#",Db:"Reb",D:"Re","D#":"Re#",Eb:"Mib",E:"Mi",F:"Fa","F#":"Fa#",Gb:"Solb",G:"Sol","G#":"Sol#",Ab:"Lab",A:"La","A#":"La#",Bb:"Sib",B:"Si"};Object.values(i);let o=T(me(l.englishToLatin??!0)),c=T(""),v=T("C"),h=T(!1),E=T(!1);function $(){s(h,!1),s(E,!1),I()}z(()=>{e(E)&&l.onComplete&&l.onComplete()});function I(){const d=X[Math.floor(Math.random()*X.length)];if(s(v,d,!0),e(o))s(c,d,!0);else{const f=i[d];s(c,f,!0)}s(h,!1)}function U(d){const f=e(v)+Ee,b=ye[f];return console.debug(`Note name exercise: ${e(c)} -> ${e(v)}`,`Expected MIDI: ${b}`),[b]}function ee(d){const A=U().map(u=>Z[u]).map(u=>[u]);return{selectedNote:d,leftHand:[],rightHand:A}}function te(d,f,b,A){if(b.includes(f.noteNumber)){s(h,!0);const y=e(o)?"English":"Latin",u=e(o)?"Latin":"English",D=e(o)?i[e(v)]:e(v);return{isCorrect:!0,message:`Perfect! ${e(c)} (${y}) = ${D} (${u}) ðŸŽµâœ¨`,collected:!0,resetCollected:!1}}else{const y=Z[f.noteNumber]?.slice(0,-1),u=e(o)?i[e(v)]:e(v);return{isCorrect:!1,message:`Wrong! You played ${y}. ${e(c)} = ${u}`,collected:!1,resetCollected:!0}}}function ae(d,f){return e(h)}z(()=>{e(c)||I()});{const d=(A,y=pe)=>{const u=P(()=>e(E)),D=P(()=>y().completed);var V=De(),W=J(V);{var se=t=>{var a=R();k(()=>L(a,s(E,!0))),p(t,a)},oe=t=>{var a=Ne(),_=J(a);{var N=g=>{var x=R();k(()=>L(x,s(E,!1))),p(g,x)};S(_,g=>{!e(D)&&e(u)&&g(N)},!0)}p(t,a)};S(W,t=>{e(D)&&!e(u)?t(se):t(oe,!1)})}var j=m(W,2),B=n(j),K=m(n(B),2),ne=n(K);{var re=t=>{var a=R("Play the Latin (SolfÃ¨ge) equivalent of this English note:");p(t,a)},le=t=>{var a=R("Play the English equivalent of this Latin (SolfÃ¨ge) note:");p(t,a)};S(ne,t=>{e(o)?t(re):t(le,!1)})}r(K),r(B);var G=m(B,2),O=n(G),H=n(O),ie=n(H,!0);r(H);var Q=m(H,2),ce=n(Q,!0);r(Q),r(O);var ve=m(O,2);{var de=t=>{var a=Te(),_=m(n(a),2),N=n(_),g=n(N,!0);r(N);var x=m(N,2),q=n(x,!0);r(x),r(_),r(a),k(()=>{L(g,e(o)?i[e(v)]:e(v)),L(q,e(o)?"Latin (SolfÃ¨ge)":"English")}),p(t,a)};S(ve,t=>{e(h)&&t(de)})}r(G);var fe=m(G,2);{var ue=t=>{var a=Ae(),_=n(a),N=n(_),g=n(N);xe(g),g.__change=[Se,o,c,v,i],he(),r(N),r(_);var x=m(_,2);{var q=M=>{var Y=we();Y.__click=[Me,h,E,I],p(M,Y)};S(x,M=>{e(h)&&M(q)})}r(a),Ce(g,()=>e(o),M=>s(o,M)),p(t,a)};S(fe,t=>{l.randomMode||t(ue)})}r(j),k(()=>{L(ie,e(c)),L(ce,e(o)?"English":"Latin (SolfÃ¨ge)")}),p(A,V)};let f=P(()=>l.onComplete??(()=>{})),b=P(()=>l.rootKey||"C");Le(w,{get randomMode(){return l.randomMode},generateExpectedNotes:U,generateScoreProps:ee,validateNoteEvent:te,isCompleted:ae,onReset:$,get onComplete(){return e(f)},showScore:!1,get initialNote(){return e(b)},description:C,children:d,$$slots:{default:!0}})}_e()}be(["change","click"]);export{He as component};
