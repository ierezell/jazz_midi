import{_ as B}from"../chunks/PPVm8Dsz.js";import{f as R,a as E}from"../chunks/BHFmxDGj.js";import{p as Ce,U as $,V as ne,n as ye,X as i,W as Ne,v as e,a as Se,_ as Pe,s as o,c as r,t as M,Y as we,r as n}from"../chunks/D-WvxLPx.js";import{d as Ie,s as y}from"../chunks/y4LLdheI.js";import{e as se,s as Ee,i as re}from"../chunks/DiVgXp1T.js";import{i as ae}from"../chunks/DD9bTvrE.js";import{i as U,a as W}from"../chunks/C_BxDK4Q.js";import{B as $e,a as Me,g as Re}from"../chunks/CpJS4eQ0.js";import{N as je}from"../chunks/DgZpB3qr.js";const Oe=(N,f,j)=>{const a=N[f];return a?typeof a=="function"?a():Promise.resolve(a):new Promise((v,p)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(p.bind(null,new Error("Unknown variable dynamic import: "+f+(f.split("/").length!==j?". Note that variables only represent file names one level deep.":""))))})},Te=["autumn-leaves","blue-bossa","all-the-things-you-are"],ke=async()=>{const N=Te.map(a=>Oe(Object.assign({"../../../lib/data/songs/all-the-things-you-are.json":()=>B(()=>import("../chunks/2UkcjGIk.js"),[],import.meta.url),"../../../lib/data/songs/autumn-leaves.json":()=>B(()=>import("../chunks/BdeHQ9Rf.js"),[],import.meta.url),"../../../lib/data/songs/blue-bossa.json":()=>B(()=>import("../chunks/DHqQcmTd.js"),[],import.meta.url)}),`../../../lib/data/songs/${a}.json`,7));return{songs:(await Promise.all(N)).map(a=>a.default)}},Ye=Object.freeze(Object.defineProperty({__proto__:null,load:ke},Symbol.toStringTag,{value:"Module"}));var Ve=R('<div class="song-info svelte-n1uxvh"> </div>'),De=R('<div class="song-info svelte-n1uxvh"> </div>'),He=R('<div><div class="chord-name svelte-n1uxvh"> </div></div>'),ze=R("<option> </option>"),Le=R('<div class="song-controls svelte-n1uxvh"><div class="song-header svelte-n1uxvh"><h2 class="svelte-n1uxvh"> </h2> <!> <!> <div class="chord-progress svelte-n1uxvh"> </div></div> <div class="chord-progression svelte-n1uxvh"></div> <div class="control-group svelte-n1uxvh"><label for="song" class="svelte-n1uxvh">Song:</label> <select id="song" class="svelte-n1uxvh"></select></div> <div class="control-group svelte-n1uxvh"><label for="voicing" class="svelte-n1uxvh">Voicing:</label> <select id="voicing" class="svelte-n1uxvh"><option>Full Right Hand</option><option>Full Left Hand</option><option>Split (1-7-3-5)</option><option>Split (1-5-3-7)</option></select></div> <div class="control-group svelte-n1uxvh"><label for="inversion" class="svelte-n1uxvh">Inversion:</label> <select id="inversion" class="svelte-n1uxvh"><option>Root Position</option><option>1st Inversion</option><option>2nd Inversion</option><option>3rd Inversion</option></select></div></div>');function Je(N,f){Ce(f,!0);const j="Practice chord progressions from real songs. Play each chord in the progression.",a=f.data.songs;let v=$(ne(a[0])),p=$(0),S=$("full-right"),C=$(0),c=$(ne(new Set));ye(()=>{i(p,0),i(c,new Set,!0)});function le(){i(c,new Set,!0)}function O(){return e(v).chords[e(p)]}function ie(d){const t=O(),l=t.note+"3",P=je[l],_=Me(P,t.type,e(C));return[_.root,_.third,_.fifth,_.seventh].filter(I=>I!==void 0)}function ve(d){const t=O(),{leftHand:l,rightHand:P}=Re(t.note,t.type,e(C),e(S));return{selectedNote:t.note,leftHand:l,rightHand:P}}function ce(d,t,l,P){if(l.includes(t.noteNumber))if(i(c,new Set([...e(c),t.noteNumber]),!0),e(c).size===l.length){const _=O();return{isCorrect:!0,message:`Perfect ${`${_.note}${_.type}`}! ðŸŽµâœ¨`,collected:!0,resetCollected:!1}}else return{isCorrect:!0,message:`Good! ${e(c).size}/${l.length} notes`,collected:!0,resetCollected:!1};else return i(c,new Set,!0),{isCorrect:!1,message:"Wrong note!",collected:!1,resetCollected:!0}}function ue(d,t){const l=[...new Set(t)];return e(c).size===l.length}function de(){e(p)<e(v).chords.length-1&&(Pe(p),i(c,new Set,!0))}function _e(d){const t=d.target;i(S,t.value,!0),i(c,new Set,!0)}function pe(d){const t=d.target;i(C,parseInt(t.value),!0),i(c,new Set,!0)}function he(d){const t=d.target,l=parseInt(t.value);i(v,a[l],!0),i(p,0),i(c,new Set,!0)}{const d=(l,P=Ne)=>{var _=Le(),w=r(_),I=r(w),ge=r(I,!0);n(I);var G=o(I,2);{var fe=s=>{var u=Ve(),g=r(u);n(u),M(()=>y(g,`by ${e(v).composer??""}`)),E(s,u)};ae(G,s=>{e(v).composer&&s(fe)})}var K=o(G,2);{var me=s=>{var u=De(),g=r(u);n(u),M(()=>y(g,`Key: ${e(v).key??""}`)),E(s,u)};ae(K,s=>{e(v).key&&s(me)})}var X=o(K,2),xe=r(X);n(X),n(w);var k=o(w,2);se(k,21,()=>e(v).chords,re,(s,u,g)=>{var h=He();let T;var oe=r(h),be=r(oe);n(oe),n(h),M(()=>{T=Ee(h,1,"chord-box svelte-n1uxvh",null,T,{current:g===e(p),completed:g<e(p)}),y(be,`${e(u).note??""}${e(u).type??""}`)}),E(s,h)}),n(k);var V=o(k,2),m=o(r(V),2);m.__change=he,se(m,21,()=>a,re,(s,u,g)=>{var h=ze(),T=r(h,!0);n(h),h.value=h.__value=g,M(()=>y(T,e(u).name)),E(s,h)}),n(m);var Y;U(m),n(V);var D=o(V,2),x=o(r(D),2);x.__change=_e;var H=r(x);H.value=H.__value="full-right";var z=o(H);z.value=z.__value="full-left";var L=o(z);L.value=L.__value="1735";var J=o(L);J.value=J.__value="1537",n(x);var Q;U(x),n(D);var Z=o(D,2),b=o(r(Z),2);b.__change=pe;var q=r(b);q.value=q.__value="0";var A=o(q);A.value=A.__value="1";var F=o(A);F.value=F.__value="2";var ee=o(F);ee.value=ee.__value="3",n(b);var te;U(b),n(Z),n(_),M(s=>{y(ge,e(v).name),y(xe,`Chord ${e(p)+1} of ${e(v).chords.length??""}`),Y!==(Y=s)&&(m.value=(m.__value=s)??"",W(m,s)),Q!==(Q=e(S))&&(x.value=(x.__value=e(S))??"",W(x,e(S))),te!==(te=e(C))&&(b.value=(b.__value=e(C))??"",W(b,e(C)))},[()=>a.indexOf(e(v))]),E(l,_)};let t=we(()=>O().note);$e(N,{randomMode:!1,generateExpectedNotes:ie,generateScoreProps:ve,validateNoteEvent:ce,isCompleted:ue,onReset:le,onComplete:de,get initialNote(){return e(t)},description:j,exerciseType:"progression",children:d,$$slots:{default:!0}})}Se()}Ie(["change"]);export{Je as component,Ye as universal};
