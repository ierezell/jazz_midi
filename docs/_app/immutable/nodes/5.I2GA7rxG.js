import{t as g,a as N}from"../chunks/D4BXdcC1.js";import{p as R,a5 as b,a6 as T,a7 as x,c as u,k as t,a as q,s as p,a8 as l,r as v,t as k}from"../chunks/Dpbo9POk.js";import{s as w}from"../chunks/DHZI45yO.js";import{i as $}from"../chunks/CjAJ5wv6.js";import{e as z,i as G}from"../chunks/Drm_huYl.js";import{K as C,b as H,e as J,o as L}from"../chunks/DNZgKaXb.js";import{o as O}from"../chunks/BvgYcItv.js";import{m as Q,N as U,R as V,A as W,g as X}from"../chunks/CbKQRmhn.js";var Y=g("<option> </option>"),Z=g('<p class="svelte-1m3v1yp"> </p>'),ee=g('<main class="svelte-1m3v1yp"><h1>Scales</h1> <h2>Major Scale</h2> <!> <br> <br> <!> <label for="note-select" class="svelte-1m3v1yp">Select a Note:</label> <select class="svelte-1m3v1yp"><option>--Choose a Note--</option><!></select> <!></main>');function me(I,j){R(j,!0);let r=b(T([])),E=x(()=>t(r).map(e=>e.noteNumber)),d,f=b("C"),y=x(()=>Q[t(f)].map(e=>U[e])),s=[],i=b(""),n=null,m=null;function F(e){const o=X(e);o.type==="on"?(l(r,[o,...t(r)],!0),s.push(o.noteNumber),s=[...new Set(s)],s.every(a=>t(y).includes(a))?s.length===7?(l(i,"Bravo!"),m&&m.play(),s=[]):l(i,`${7-s.length} notes to go`):(l(i,"Try again"),n&&n.play(),s=[])):l(r,t(r).filter(a=>a.noteFullName!==o.noteFullName),!0)}O(async()=>{n=new Audio(J),n.volume=.5,n.loop=!1,m=new Audio(L),m.volume=.5,m.loop=!1;try{d=await V(),console.log("Scale MIDI Access obtained:",d),d.inputs.forEach(o=>{o.onmidimessage=F})}catch(e){console.error("Failed to obtain MIDI Access:",e)}});var _=ee(),S=p(u(_),4);C(S,{get midiNotes(){return t(y)},middleC:60,octaves:2});var M=p(S,6);C(M,{get midiNotes(){return t(E)},middleC:60,octaves:2});var c=p(M,4),h=u(c);h.value=((h.__value="")==null,"");var B=p(h);z(B,17,()=>W,G,(e,o)=>{var a=Y(),A={},P=u(a,!0);v(a),k(()=>{A!==(A=t(o))&&(a.value=(a.__value=t(o))==null?"":t(o)),w(P,t(o))}),N(e,a)}),v(c);var D=p(c,2);{var K=e=>{var o=Z(),a=u(o,!0);v(o),k(()=>w(a,t(i))),N(e,o)};$(D,e=>{t(i)&&e(K)})}v(_),H(c,()=>t(f),e=>l(f,e)),N(I,_),q()}export{me as component};
