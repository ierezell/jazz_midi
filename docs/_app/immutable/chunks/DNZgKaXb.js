import{an as d,ao as _,ap as q,O as L,h as o,aA as p,aE as O,p as y,a5 as P,a8 as m,t as k,k as f,a as N,c as E,r as h,a7 as K}from"./Dpbo9POk.js";import{t as A,a as w}from"./D4BXdcC1.js";import{e as M,i as F}from"./Drm_huYl.js";let g=!1;function R(){g||(g=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var r;if(!e.defaultPrevented)for(const a of e.target.elements)(r=a.__on_r)==null||r.call(a)})},{capture:!0}))}function T(e){var r=q,a=L;d(null),_(null);try{return e()}finally{d(r),_(a)}}function U(e,r,a,t=a){e.addEventListener(r,()=>T(a));const i=e.__on_r;i?e.__on_r=()=>{i(),t(!0)}:e.__on_r=()=>t(!0),R()}const b=[...` 	
\r\fÂ \v\uFEFF`];function W(e,r,a){var t=""+e;if(a){for(var i in a)if(a[i])t=t?t+" "+i:i;else if(t.length)for(var n=i.length,s=0;(s=t.indexOf(i,s))>=0;){var u=s+n;(s===0||b.includes(t[s-1]))&&(u===t.length||b.includes(t[u]))?t=(s===0?"":t.substring(0,s))+t.substring(u+1):s=u}}return t===""?null:t}function j(e,r){return e==null?null:String(e)}function x(e,r,a,t,i,n){var s=e.__className;if(o||s!==a||s===void 0){var u=W(a,t,n);(!o||u!==e.getAttribute("class"))&&(u==null?e.removeAttribute("class"):e.className=u),e.__className=a}else if(n&&i!==n)for(var v in n){var c=!!n[v];(i==null||c!==!!i[v])&&e.classList.toggle(v,c)}return n}function C(e,r,a,t){var i=e.__style;if(o||i!==r){var n=j(r);(!o||n!==e.getAttribute("style"))&&(n==null?e.removeAttribute("style"):e.style.cssText=n),e.__style=r}return t}function S(e,r,a){if(e.multiple)return Q(e,r);for(var t of e.options){var i=l(t);if(O(i,r)){t.selected=!0;return}}(!a||r!==void 0)&&(e.selectedIndex=-1)}function I(e,r){p(()=>{var a=new MutationObserver(()=>{var t=e.__value;S(e,t)});return a.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{a.disconnect()}})}function V(e,r,a=r){var t=!0;U(e,"change",i=>{var n=i?"[selected]":":checked",s;if(e.multiple)s=[].map.call(e.querySelectorAll(n),l);else{var u=e.querySelector(n)??e.querySelector("option:not([disabled])");s=u&&l(u)}a(s)}),p(()=>{var i=r();if(S(e,i,t),t&&i===void 0){var n=e.querySelector(":checked");n!==null&&(i=l(n),a(i))}e.__value=i,t=!1}),I(e)}function Q(e,r){for(var a of e.options)a.selected=~r.indexOf(l(a))}function l(e){return"__value"in e?e.__value:e.value}var z=A('<div draggable="false"></div>');function B(e,r){y(r,!0);let a=56,t=![1,3,6,8,10].includes(r.noteNum%12),i=P(0);t||([1,6].includes(r.noteNum%12)?m(i,-56/12):[3,10].includes(r.noteNum%12)&&m(i,a/12));var n=z();let s;k(u=>{C(n,`--width: ${a-a*.47*(t?0:1)}px; transform: translate(${f(i)??""}px);`),s=x(n,1,"svelte-4mseqm",null,s,u)},[()=>({accidental:!t,natural:t,pressed:r.pressed})]),w(e,n),N()}var D=A('<div class="keyboard svelte-105m06m"><div class="svelte-105m06m"></div></div>');function X(e,r){y(r,!0);let a=[...Array(r.octaves*12+1).keys()].map(n=>n+(r.middleC-Math.floor(r.octaves/2)*12));var t=D(),i=E(t);M(i,21,()=>a,F,(n,s)=>{const u=K(()=>r.midiNotes.includes(f(s)));B(n,{get noteNum(){return f(s)},get pressed(){return f(u)}})}),h(i),h(t),w(e,t),N()}const Y=""+new URL("../assets/error.WmnA9Fcj.mp3",import.meta.url).href,Z=""+new URL("../assets/ok.agpQTMuu.mp3",import.meta.url).href;export{X as K,V as b,Y as e,Z as o};
