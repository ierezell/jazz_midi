import{u as o}from"./D0omyc6-.js";class s{static instance;levels=[{id:1,name:"Beginner",description:"Start your jazz journey with basic chords and scales.",requirements:[{type:"xp",target:0,description:"Start the game"}],unlockedExercises:["/exercises/chords","/exercises/scales"]},{id:2,name:"Intermediate",description:"Learn about intervals and simple progressions.",requirements:[{type:"xp",target:500,description:"Earn 500 XP"},{type:"exercise_count",target:10,description:"Complete 10 exercises"}],unlockedExercises:["/exercises/intervals","/exercises/two_five_ones"]},{id:3,name:"Advanced",description:"Master complex chords and reading partitions.",requirements:[{type:"xp",target:2e3,description:"Earn 2000 XP"},{type:"mastery",target:5,description:"Master 5 chords"}],unlockedExercises:["/exercises/partition","/exercises/songs"]}];constructor(){}static getInstance(){return s.instance||(s.instance=new s),s.instance}getCurrentLevel(){const e=o.getProfile();return this.levels.find(t=>t.id===e.level)||this.levels[0]}getNextLevel(){const e=this.getCurrentLevel();return this.levels.find(t=>t.id===e.id+1)||null}getLevelProgress(e){const t=o.getProfile(),r=o.getStatistics();let n=0,c=0;for(const a of e.requirements){c++;let i=0;switch(a.type){case"xp":i=t.experiencePoints;break;case"exercise_count":i=r.completedExercises;break;case"mastery":i=r.masteredChords.filter(l=>l.isMastered).length;break}a.target===0?n+=1:n+=Math.min(1,i/a.target)}return c>0?n/c*100:100}isExerciseUnlocked(e){const t=this.getCurrentLevel();for(const r of this.levels)if(r.id<=t.id&&r.unlockedExercises.includes(e))return!0;return!1}}const u=s.getInstance();export{u as j};
