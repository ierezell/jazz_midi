const b={24:"C0",25:"C#0",26:"D0",27:"D#0",28:"E0",29:"F0",30:"F#0",31:"G0",32:"G#0",33:"A0",34:"A#0",35:"B0",36:"C1",37:"C#1",38:"D1",39:"D#1",40:"E1",41:"F1",42:"F#1",43:"G1",44:"G#1",45:"A1",46:"A#1",47:"B1",48:"C2",49:"C#2",50:"D2",51:"D#2",52:"E2",53:"F2",54:"F#2",55:"G2",56:"G#2",57:"A2",58:"A#2",59:"B2",60:"C3",61:"C#3",62:"D3",63:"D#3",64:"E3",65:"F3",66:"F#3",67:"G3",68:"G#3",69:"A3",70:"A#3",71:"B3",72:"C4",73:"C#4",74:"D4",75:"D#4",76:"E4",77:"F4",78:"F#4",79:"G4",80:"G#4",81:"A4",82:"A#4",83:"B4",84:"C5",85:"C#5",86:"D5",87:"D#5",88:"E5",89:"F5",90:"F#5",91:"G5",92:"G#5",93:"A5",94:"A#5",95:"B5",96:"C6",97:"C#6",98:"D6",99:"D#6",100:"E6",101:"F6",102:"F#6",103:"G6",104:"G#6",105:"A6",106:"A#6",107:"B6",108:"C7",109:"C#7",110:"D7",111:"D#7",112:"E7",113:"F7",114:"F#7",115:"G7",116:"G#7",117:"A7",118:"A#7",119:"B7",120:"C8",121:"C#8",122:"D8",123:"D#8",124:"E8",125:"F8",126:"F#8",127:"G8",128:"G#8"},G={C0:24,"C#0":25,Db0:25,D0:26,"D#0":27,Eb0:27,E0:28,F0:29,"F#0":30,Gb0:30,G0:31,"G#0":32,Ab0:32,A0:33,"A#0":34,Bb0:34,B0:35,C1:36,"C#1":37,Db1:37,D1:38,"D#1":39,Eb1:39,E1:40,F1:41,"F#1":42,Gb1:42,G1:43,"G#1":44,Ab1:44,A1:45,"A#1":46,Bb1:46,B1:47,C2:48,"C#2":49,Db2:49,D2:50,"D#2":51,Eb2:51,E2:52,F2:53,"F#2":54,Gb2:54,G2:55,"G#2":56,Ab2:56,A2:57,"A#2":58,Bb2:58,B2:59,C3:60,"C#3":61,Db3:61,D3:62,"D#3":63,Eb3:63,E3:64,F3:65,"F#3":66,Gb3:66,G3:67,"G#3":68,Ab3:68,A3:69,"A#3":70,Bb3:70,B3:71,C4:72,"C#4":73,Db4:73,D4:74,"D#4":75,Eb4:75,E4:76,F4:77,"F#4":78,Gb4:78,G4:79,"G#4":80,Ab4:80,A4:81,"A#4":82,Bb4:82,B4:83,C5:84,"C#5":85,Db5:85,D5:86,"D#5":87,Eb5:87,E5:88,F5:89,"F#5":90,Gb5:90,G5:91,"G#5":92,Ab5:92,A5:93,"A#5":94,Bb5:94,B5:95,C6:96,"C#6":97,Db6:97,D6:98,"D#6":99,Eb6:99,E6:100,F6:101,"F#6":102,Gb6:102,G6:103,"G#6":104,Ab6:104,A6:105,"A#6":106,Bb6:106,B6:107,C7:108,"C#7":109,Db7:109,D7:110,"D#7":111,Eb7:111,E7:112,F7:113,"F#7":114,Gb7:114,G7:115,"G#7":116,Ab7:116,A7:117,"A#7":118,Bb7:118,B7:119,C8:120,"C#8":121,Db8:121,D8:122,"D#8":123,Eb8:123,E8:124,F8:125,"F#8":126,Gb8:126,G8:127,"G#8":128},C=["C","C#","Db","D","D#","Eb","E","F","F#","Gb","G","G#","Ab","A","A#","Bb","B"],u=["major","minor","maj7","min7","7","diminished","augmented","sus2","sus4"];function F(e,s){if(e<24||e>127)throw new Error("Midi note out of range (24-127)");let t=[e],r=e,c=Array(10).fill(s).flat();for(const A of c){if(r=r+A,r>127)break;t.push(r)}return t.map(A=>b[A])}const h=(e,s,t)=>{switch(s){case 0:return{root:e[0],third:e[1],fifth:e[2],inversion:0,chordType:t};case 1:return{root:e[1],third:e[2],fifth:e[0]+12,inversion:1,chordType:t};case 2:return{root:e[2]-12,third:e[0],fifth:e[1],inversion:2,chordType:t}}},l=(e,s,t)=>{switch(s){case 0:return{root:e[0],third:e[1],fifth:e[2],seventh:e[3],inversion:0,chordType:t};case 1:return{root:e[1],third:e[2],fifth:e[3],seventh:e[0]+12,inversion:1,chordType:t};case 2:return{root:e[2]-12,third:e[3]-12,fifth:e[0],seventh:e[1],inversion:2,chordType:t};case 3:return{root:e[3]-12,third:e[0],fifth:e[1],seventh:e[2],inversion:3,chordType:t}}},m=(e,s,t=0)=>{const r=e+3,c=e+4,n=e+7,A=e+6,i=e+9,D=e+10,f=e+11;let a=[];switch(s){case"major":a=[e,c,n];case"minor":a=[e,r,n];case"maj7":a=[e,c,n,f];case"min7":a=[e,r,n,D];case"7":a=[e,c,n,D];case"diminished":a=[e,r,A,i];case"augmented":a=[e,c,e+8];case"sus2":a=[e,e+2,n];case"sus4":a=[e,e+5,n];default:a=[e,c,n]}return a.length===3&&t<=2?h(a,t,s):l(a,t,s)},E=C.reduce((e,s)=>(e[s]=F(G[s+"0"],[2,2,1,2,2,2,1]),e),{});C.reduce((e,s)=>(e[s]=F(G[s+"0"],[2,1,2,2,1,2,1]),e),{});function B(e){const s=e.data,t=s[0]>>4;s[0]&15;const r=s[1],c=s[2];let n="off";return t===9&&c>0?n="on":t===8||t===9&&c===0?n="off":console.log(`Other MIDI message: [${Array.from(s).join(", ")}]`),{noteNumber:r,noteFullName:b[r],noteName:b[r].slice(0,-1),velocity:c,time:e.timeStamp,type:n}}async function o(){let e=await navigator.requestMIDIAccess({sysex:!1});return console.log("MIDI Access obtained."),e}export{C as A,G as N,o as R,u as a,m as c,B as g,E as m};
